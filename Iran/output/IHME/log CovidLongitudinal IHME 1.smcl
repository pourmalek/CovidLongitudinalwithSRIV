{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/log CovidLongitudinal IHME 1.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res} 5 May 2022, 20:53:37
{txt}
{com}. 
. ***************************************************************************
. * This is "do CovidLongitudinal IHME 1.do"
. 
. * Project: Longitudinal assessment of COVID-19 models                                                                         
. * Person: Farshad Pourmalek pourmalek_farshad at yahoo dotcom
. ***************************************************************************
. 
. 
. * download and prepare estimates files
. * input data files: download csv files
. * output data files: "IHME202?????.dta " (63 files)
. * "graph epoch update 202?????.pdf"
. 
. * based on combinations of linkdate, download, and urldate
. * e.g.,                                    04-Nov-21 ihme-covid19  2021-11-04   https://ihmecovid19storage.blob.core.windows.net/archive/2021-11-04/ihme-covid19.zip    data_download_file_reference_2020
. 
. * Details: "do CovidLongitudinal IHME updates Iran.do"
. 
. 
. 
. grstyle init
{res}{txt}
{com}. 
. grstyle color background white
{txt}
{com}. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 1
. * linkdate      download        urldate
. * 25-Jun-20     2020_06_24.02   2020-06-25
. * filename reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-06-25" 
{res}{err}This is urldate 2020-06-25
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-06-25/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_06_24.02/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_06_24.02/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_06_24.02/Reference_hospitalization_all_locs.csv
    inflating: 2020_06_24.02/Summary_stats_all_locs.csv
    inflating: 2020_06_24.02/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_06_24.02
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_06_24.02
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(44 vars, 83,386 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(83,145 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(241 real changes made)

{com}. 
.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22189{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01oct2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}241{col 51}{txt}missing .:  {res}0{txt}/{res}241

{txt}{col 19}mean:{res}{col 26}   22069{txt} = {res}03jun2020{txt}
{col 15}std. dev:{res}{col 26} 69.7149

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21973{col 37}   22009{col 47}   22069{col 57}   22129{col 67}   22165
{col 26}28feb2020{col 36}04apr2020{col 46}03jun2020{col 56}02aug2020{col 66}07sep2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(21Jun2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200625", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 21Jun2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200625.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(241 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200625 epoch20200625)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200625.dta", replace
{txt}file IHME20200625.dta saved

{com}. 
. 
. shell rm -r "2020_06_24.02"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 2
. * linkdate      download        urldate
. * 29-Jun-20     2020_06_27      2020-06-29
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-06-29" 
{res}{err}This is urldate 2020-06-29
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-06-29/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_06_27/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_06_27/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_06_27/Reference_hospitalization_all_locs.csv
    inflating: 2020_06_27/Summary_stats_all_locs.csv
    inflating: 2020_06_27/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_06_27
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_06_27
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(44 vars, 83,386 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(83,145 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(241 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22189{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01oct2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}241{col 51}{txt}missing .:  {res}0{txt}/{res}241

{txt}{col 19}mean:{res}{col 26}   22069{txt} = {res}03jun2020{txt}
{col 15}std. dev:{res}{col 26} 69.7149

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21973{col 37}   22009{col 47}   22069{col 57}   22129{col 67}   22165
{col 26}28feb2020{col 36}04apr2020{col 46}03jun2020{col 56}02aug2020{col 66}07sep2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(21Jun2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200629", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 21Jun2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200629.pdf", replace
{txt}
{com}. 
. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(241 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200629 epoch20200629)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200629.dta", replace
{txt}file IHME20200629.dta saved

{com}. 
. 
. shell rm -r "2020_06_27"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 3
. * linkdate      download        urldate
. * 07-Jul-20     2020_07_04      2020-07-07
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-07-07" 
{res}{err}This is urldate 2020-07-07
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-07-07/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_07_04/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_07_04/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_07_04/Reference_hospitalization_all_locs.csv
    inflating: 2020_07_04/Summary_stats_all_locs.csv
    inflating: 2020_07_04/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_07_04
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_07_04
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(44 vars, 87,040 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(86,768 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(272 real changes made)

{com}. 
.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22220{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}272{col 51}{txt}missing .:  {res}0{txt}/{res}272

{txt}{col 19}mean:{res}{col 26} 22084.5{txt} = {res}18jun2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 78.6638

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21976{col 37} 22016.5{col 47} 22084.5{col 57} 22152.5{col 67}   22193
{col 26}02mar2020{col 36}11apr2020{col 46}18jun2020{col 56}25aug2020{col 66}05oct2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(05Jul2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200707", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 05Jul2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200707.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(272 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200707 epoch20200707)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200707.dta", replace
{txt}file IHME20200707.dta saved

{com}. 
. 
. shell rm -r "2020_07_04"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 4
. * linkdate      download        urldate
. * 14-Jul-20     2020_07_11      2020-07-14
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-07-14" 
{res}{err}This is urldate 2020-07-14
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-07-14/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_07_11/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_07_11/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_07_11/Reference_hospitalization_all_locs.csv
    inflating: 2020_07_11/Summary_stats_all_locs.csv
    inflating: 2020_07_11/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_07_11
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_07_11
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(45 vars, 86,768 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(86,496 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(272 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22220{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}272{col 51}{txt}missing .:  {res}0{txt}/{res}272

{txt}{col 19}mean:{res}{col 26} 22084.5{txt} = {res}18jun2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 78.6638

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21976{col 37} 22016.5{col 47} 22084.5{col 57} 22152.5{col 67}   22193
{col 26}02mar2020{col 36}11apr2020{col 46}18jun2020{col 56}25aug2020{col 66}05oct2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(12Jul2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200714", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 12Jul2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200714.pdf", replace
{txt}
{com}. 
. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(272 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200714 epoch20200714)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200714.dta", replace
{txt}file IHME20200714.dta saved

{com}. 
. 
. shell rm -r "2020_07_11"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 5
. * linkdate      download        urldate
. * 22-Jul-20     2020_07_18      2020-07-22
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-07-22" 
{res}{err}This is urldate 2020-07-22
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-07-22/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_07_18/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_07_18/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_07_18/Reference_hospitalization_all_locs.csv
    inflating: 2020_07_18/Summary_stats_all_locs.csv
    inflating: 2020_07_18/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_07_18
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_07_18
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(45 vars, 91,664 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(91,392 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(272 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22220{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}272{col 51}{txt}missing .:  {res}0{txt}/{res}272

{txt}{col 19}mean:{res}{col 26} 22084.5{txt} = {res}18jun2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 78.6638

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21976{col 37} 22016.5{col 47} 22084.5{col 57} 22152.5{col 67}   22193
{col 26}02mar2020{col 36}11apr2020{col 46}18jun2020{col 56}25aug2020{col 66}05oct2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(26Jul2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200722", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 26Jul2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200722.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(272 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200722 epoch20200722)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200722.dta", replace
{txt}file IHME20200722.dta saved

{com}. 
. 
. shell rm -r "2020_07_18"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 6
. * linkdate      download        urldate
. * 30-Jul-20     2020_07_26      2020-07-30
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-07-30" 
{res}{err}This is urldate 2020-07-30
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-07-30/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_07_26/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_07_26/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_07_26/Reference_hospitalization_all_locs.csv
    inflating: 2020_07_26/Summary_stats_all_locs.csv
    inflating: 2020_07_26/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_07_26
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_07_26
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(45 vars, 91,392 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(91,120 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(272 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22220{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}272{col 51}{txt}missing .:  {res}0{txt}/{res}272

{txt}{col 19}mean:{res}{col 26} 22084.5{txt} = {res}18jun2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 78.6638

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21976{col 37} 22016.5{col 47} 22084.5{col 57} 22152.5{col 67}   22193
{col 26}02mar2020{col 36}11apr2020{col 46}18jun2020{col 56}25aug2020{col 66}05oct2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(27Jul2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200730", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 27Jul2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200730.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(272 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200730 epoch20200730)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200730.dta", replace
{txt}file IHME20200730.dta saved

{com}. 
. 
. shell rm -r "2020_07_26"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 7
. * linkdate      download        urldate
. * 06-Aug-20     2020_08_06      2020-08-06
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. * Could write the code piece to transform the urldate with dashes (like 2020-08-06) to downloaded directory name with underlines (like 2020_08_06) for updates where these two are not incompatible. 
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-08-06" 
{res}{err}This is urldate 2020-08-06
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-08-06/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_08_06/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_08_06/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_08_06/Reference_hospitalization_all_locs.csv
    inflating: 2020_08_06/Summary_stats_all_locs.csv
    inflating: 2020_08_06/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_08_06
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_08_06
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(45 vars, 100,868 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(100,566 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(302 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22250{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}302{col 51}{txt}missing .:  {res}0{txt}/{res}302

{txt}{col 19}mean:{res}{col 26} 22099.5{txt} = {res}03jul2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 87.3241

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21979{col 37}   22024{col 47} 22099.5{col 57}   22175{col 67}   22220
{col 26}05mar2020{col 36}19apr2020{col 46}03jul2020{col 56}17sep2020{col 66}01nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(04Aug2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200806", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 04Aug2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200806.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(302 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200806 epoch20200806)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200806.dta", replace
{txt}file IHME20200806.dta saved

{com}. 
. 
. shell rm -r "2020_08_06"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 8
. * linkdate      download        urldate
. * 21-Aug-20     2020_08_21      2020-08-21
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-08-21" 
{res}{err}This is urldate 2020-08-21
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-08-21/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_08_21/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_08_21/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_08_21/Reference_hospitalization_all_locs.csv
    inflating: 2020_08_21/Summary_stats_all_locs.csv
    inflating: 2020_08_21/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_08_21
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_08_21
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(45 vars, 101,170 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(100,868 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(302 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22250{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}302{col 51}{txt}missing .:  {res}0{txt}/{res}302

{txt}{col 19}mean:{res}{col 26} 22099.5{txt} = {res}03jul2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 87.3241

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21979{col 37}   22024{col 47} 22099.5{col 57}   22175{col 67}   22220
{col 26}05mar2020{col 36}19apr2020{col 46}03jul2020{col 56}17sep2020{col 66}01nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(01Aug2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200806", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 01Aug2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200806.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(302 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200821 epoch20200821)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200821.dta", replace
{txt}file IHME20200821.dta saved

{com}. 
. 
. shell rm -r "2020_08_21"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 9
. * linkdate      download        urldate
. * 27-Aug-20     2020_08_27      2020-08-27
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-08-27" 
{res}{err}This is urldate 2020-08-27
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-08-27/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_08_27/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_08_27/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_08_27/Reference_hospitalization_all_locs.csv
    inflating: 2020_08_27/Summary_stats_all_locs.csv
    inflating: 2020_08_27/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_08_27
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_08_27
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 101,774 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(101,472 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(302 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22250{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2020{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}302{col 51}{txt}missing .:  {res}0{txt}/{res}302

{txt}{col 19}mean:{res}{col 26} 22099.5{txt} = {res}03jul2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 87.3241

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21979{col 37}   22024{col 47} 22099.5{col 57}   22175{col 67}   22220
{col 26}05mar2020{col 36}19apr2020{col 46}03jul2020{col 56}17sep2020{col 66}01nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(25Aug2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200827", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 25Aug2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200827.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(302 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200827 epoch20200827)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200827.dta", replace
{txt}file IHME20200827.dta saved

{com}. 
. 
. shell rm -r "2020_08_27"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 10
. * linkdate      download        urldate
. * 03-Sep-20     2020_09_02      2020-09-03      
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-09-03" 
{res}{err}This is urldate 2020-09-03
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-09-03/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_09_02/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_09_02/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_09_02/Reference_hospitalization_all_locs.csv
    inflating: 2020_09_02/Summary_stats_all_locs.csv
    inflating: 2020_09_02/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_09_02
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_09_02
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(65 vars, 129,870 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(129,537 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(333 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22281{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}333{col 51}{txt}missing .:  {res}0{txt}/{res}333

{txt}{col 19}mean:{res}{col 26}   22115{txt} = {res}19jul2020{txt}
{col 15}std. dev:{res}{col 26}  96.273

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21982{col 37}   22032{col 47}   22115{col 57}   22198{col 67}   22248
{col 26}08mar2020{col 36}27apr2020{col 46}19jul2020{col 56}10oct2020{col 66}29nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(01Sep2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200903", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 01Sep2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200903.pdf", replace
{txt}
{com}. 
. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(333 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200903 epoch20200903)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200903.dta", replace
{txt}file IHME20200903.dta saved

{com}. 
. 
. shell rm -r "2020_09_02"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 11
. * linkdate      download        urldate
. * 11-Sep-20     2020_09_11      2020-09-11
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-09-11" 
{res}{err}This is urldate 2020-09-11
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-09-11/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_09_11/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_09_11/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_09_11/Reference_hospitalization_all_locs.csv
    inflating: 2020_09_11/Summary_stats_all_locs.csv
    inflating: 2020_09_11/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_09_11
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_09_11
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 129,870 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(129,537 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(333 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22281{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}333{col 51}{txt}missing .:  {res}0{txt}/{res}333

{txt}{col 19}mean:{res}{col 26}   22115{txt} = {res}19jul2020{txt}
{col 15}std. dev:{res}{col 26}  96.273

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21982{col 37}   22032{col 47}   22115{col 57}   22198{col 67}   22248
{col 26}08mar2020{col 36}27apr2020{col 46}19jul2020{col 56}10oct2020{col 66}29nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(09Sep2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200911", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 09Sep2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200911.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(333 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200911 epoch20200911)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200911.dta", replace
{txt}file IHME20200911.dta saved

{com}. 
. 
. shell rm -r "2020_09_11"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 12
. * linkdate      download        urldate
. * 18-Sep-20     2020_09_18      2020-09-18
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-09-18" 
{res}{err}This is urldate 2020-09-18
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-09-18/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_09_18/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_09_18/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_09_18/Reference_hospitalization_all_locs.csv
    inflating: 2020_09_18/Summary_stats_all_locs.csv
    inflating: 2020_09_18/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_09_18
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_09_18
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 207,137 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(206,600 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(537 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22281{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}333{col 51}{txt}missing .:  {res}0{txt}/{res}537

{txt}{col 19}mean:{res}{col 26}   22092{txt} = {res}26jun2020{txt} (+ 0 hours)
{col 15}std. dev:{res}{col 26} 89.0207

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21977{col 37}   22018{col 47}   22085{col 57}   22152{col 67}   22228
{col 26}03mar2020{col 36}13apr2020{col 46}19jun2020{col 56}25aug2020{col 66}09nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(15Sep2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200918", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 15Sep2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200918.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(537 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200918 epoch20200918)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200918.dta", replace
{txt}file IHME20200918.dta saved

{com}. 
. 
. shell rm -r "2020_09_18"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 13
. * linkdate      download        urldate
. * 24-Sep-20     2020_09_24      2020-09-24
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-09-24" 
{res}{err}This is urldate 2020-09-24
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-09-24/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_09_24/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_09_24/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_09_24/Reference_hospitalization_all_locs.csv
    inflating: 2020_09_24/Summary_stats_all_locs.csv
    inflating: 2020_09_24/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_09_24
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_09_24
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 128,538 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(128,205 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(333 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22281{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}333{col 51}{txt}missing .:  {res}0{txt}/{res}333

{txt}{col 19}mean:{res}{col 26}   22115{txt} = {res}19jul2020{txt}
{col 15}std. dev:{res}{col 26}  96.273

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21982{col 37}   22032{col 47}   22115{col 57}   22198{col 67}   22248
{col 26}08mar2020{col 36}27apr2020{col 46}19jul2020{col 56}10oct2020{col 66}29nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(22Sep2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20200924", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 22Sep2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20200924.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(333 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120200924 epoch20200924)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20200924.dta", replace
{txt}file IHME20200924.dta saved

{com}. 
. 
. shell rm -r "2020_09_24"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 14
. * linkdate      download        urldate
. * 02-Oct-20     2020_10_02      2020-10-02
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-10-02" 
{res}{err}This is urldate 2020-10-02
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-10-02/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_10_02/Best_mask_hospitalization_all_locs.csv
    inflating: 2020_10_02/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_10_02/Reference_hospitalization_all_locs.csv
    inflating: 2020_10_02/Summary_stats_all_locs.csv
    inflating: 2020_10_02/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_10_02
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_10_02
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 129,870 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(129,537 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(333 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22281{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}333{col 51}{txt}missing .:  {res}0{txt}/{res}333

{txt}{col 19}mean:{res}{col 26}   22115{txt} = {res}19jul2020{txt}
{col 15}std. dev:{res}{col 26}  96.273

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21982{col 37}   22032{col 47}   22115{col 57}   22198{col 67}   22248
{col 26}08mar2020{col 36}27apr2020{col 46}19jul2020{col 56}10oct2020{col 66}29nov2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(29Sep2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201002", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 29Sep2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201002.pdf", replace
{txt}
{com}. 
. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(333 real changes made)

{com}. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201002 epoch20201002)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201002.dta", replace
{txt}file IHME20201002.dta saved

{com}. 
. 
. shell rm -r "2020_10_02"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 15
. * linkdate      download        urldate
. * 09-Oct-20     2020_10_09  2020-10-09
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-10-09" 
{res}{err}This is urldate 2020-10-09
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-10-09/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_10_09/Best_masks_hospitalization_all_locs.csv
    inflating: 2020_10_09/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_10_09/Reference_hospitalization_all_locs.csv
    inflating: 2020_10_09/Summary_stats_all_locs.csv
    inflating: 2020_10_09/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_10_09
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_10_09
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 141,960 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(141,596 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(364 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22312{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01feb2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}364{col 51}{txt}missing .:  {res}0{txt}/{res}364

{txt}{col 19}mean:{res}{col 26} 22130.5{txt} = {res}03aug2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 105.222

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21985{col 37} 22039.5{col 47} 22130.5{col 57} 22221.5{col 67}   22276
{col 26}11mar2020{col 36}04may2020{col 46}03aug2020{col 56}02nov2020{col 66}27dec2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(06Oct2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201009", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 06Oct2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201009.pdf", replace
{txt}
{com}. 
. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(364 real changes made)

{com}. 
. 
. 
. 
. *
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201009 epoch20201009)
{res}{txt}
{com}.  
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201009.dta", replace
{txt}file IHME20201009.dta saved

{com}. 
. 
. shell rm -r "2020_10_09"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 16
. * linkdate      download        urldate
. * 15-Oct-20     2020_10_15      2020-10-15
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-10-15" 
{res}{err}This is urldate 2020-10-15
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-10-15/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_10_15/Best_masks_hospitalization_all_locs.csv
    inflating: 2020_10_15/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_10_15/Reference_hospitalization_all_locs.csv
    inflating: 2020_10_15/Summary_stats_all_locs.csv
    inflating: 2020_10_15/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_10_15
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_10_15
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 141,960 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(141,596 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(364 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22312{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01feb2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}364{col 51}{txt}missing .:  {res}0{txt}/{res}364

{txt}{col 19}mean:{res}{col 26} 22130.5{txt} = {res}03aug2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 105.222

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21985{col 37} 22039.5{col 47} 22130.5{col 57} 22221.5{col 67}   22276
{col 26}11mar2020{col 36}04may2020{col 46}03aug2020{col 56}02nov2020{col 66}27dec2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(13Oct2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201015", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 13Oct2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201015.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(364 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201015 epoch20201015)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201015.dta", replace
{txt}file IHME20201015.dta saved

{com}. 
. 
. shell rm -r "2020_10_15"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 17
. * linkdate      download        urldate
. * 22-Oct-20     2020_10_22      2020-10-22
. * filename Reference_hospitalization_all_locs.csv
. * cd
. 
. 
. clear 
{txt}
{com}.                                 
. 
. di in red "This is urldate 2020-10-22" 
{res}{err}This is urldate 2020-10-22
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-10-22/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_10_22/Best_masks_hospitalization_all_locs.csv
    inflating: 2020_10_22/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_10_22/Reference_hospitalization_all_locs.csv
    inflating: 2020_10_22/Summary_stats_all_locs.csv
    inflating: 2020_10_22/Worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_10_22
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_10_22
{txt}
{com}. 
. import delimited using Reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(68 vars, 141,960 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(141,596 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(364 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22312{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01feb2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}364{col 51}{txt}missing .:  {res}0{txt}/{res}364

{txt}{col 19}mean:{res}{col 26} 22130.5{txt} = {res}03aug2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 105.222

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21985{col 37} 22039.5{col 47} 22130.5{col 57} 22221.5{col 67}   22276
{col 26}11mar2020{col 36}04may2020{col 46}03aug2020{col 56}02nov2020{col 66}27dec2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(19Oct2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201022", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 19Oct2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201022.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(364 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201022 epoch20201022)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201022.dta", replace
{txt}file IHME20201022.dta saved

{com}. 
. 
. shell rm -r "2020_10_22"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 18
. * linkdate      download        urldate
. * 29-Oct-20     2020_10_29      2020-10-29
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020_10_29" 
{res}{err}This is urldate 2020_10_29
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-10-29/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_10_29/best_masks_hospitalization_all_locs.csv
    inflating: 2020_10_29/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_10_29/reference_hospitalization_all_locs.csv
    inflating: 2020_10_29/Summary_stats_all_locs.csv
    inflating: 2020_10_29/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_10_29
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_10_29
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 141,960 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(141,596 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(364 real changes made)

{com}.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22312{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01feb2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}364{col 51}{txt}missing .:  {res}0{txt}/{res}364

{txt}{col 19}mean:{res}{col 26} 22130.5{txt} = {res}03aug2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 105.222

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21985{col 37} 22039.5{col 47} 22130.5{col 57} 22221.5{col 67}   22276
{col 26}11mar2020{col 36}04may2020{col 46}03aug2020{col 56}02nov2020{col 66}27dec2020
{txt}
{com}. drop year month day date2               
{txt}
{com}.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(27Oct2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201029", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 27Oct2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201029.pdf", replace
{txt}
{com}. 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(364 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 DayDeaMeRaA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201029 epoch20201029)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201029.dta", replace
{txt}file IHME20201029.dta saved

{com}. 
. 
. 
. shell rm -r "2020_10_29"
{txt}

{com}. 
. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 19
. * linkdate      download        urldate
. * 12-Nov-20     2020_11_12      2020-11-12
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020-11-12" 
{res}{err}This is urldate 2020-11-12
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-11-12/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_11_12/best_masks_hospitalization_all_locs.csv
    inflating: 2020_11_12/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_11_12/reference_hospitalization_all_locs.csv
    inflating: 2020_11_12/Summary_stats_all_locs.csv
    inflating: 2020_11_12/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_11_12
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_11_12
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 152,880 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(152,488 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(392 real changes made)

{com}.                 
.                 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22340{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01mar2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}392{col 51}{txt}missing .:  {res}0{txt}/{res}392

{txt}{col 19}mean:{res}{col 26} 22144.5{txt} = {res}17aug2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 113.305

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21988{col 37} 22046.5{col 47} 22144.5{col 57} 22242.5{col 67}   22301
{col 26}14mar2020{col 36}11may2020{col 46}17aug2020{col 56}23nov2020{col 66}21jan2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
.         
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(10Nov2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(31Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201112", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 10Nov2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201112.pdf", replace
{txt}
{com}.         
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(392 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201112 epoch20201112)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201112.dta", replace
{txt}file IHME20201112.dta saved

{com}. 
. 
. 
. shell rm -r "2020_11_12"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 20
. * linkdate      download        urldate
. * 19-Nov-20     2020_11_19      2020-11-19
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020-11-19" 
{res}{err}This is urldate 2020-11-19
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-11-19/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_11_19/best_masks_hospitalization_all_locs.csv
    inflating: 2020_11_19/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_11_19/reference_hospitalization_all_locs.csv
    inflating: 2020_11_19/Summary_stats_all_locs.csv
    inflating: 2020_11_19/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_11_19
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_11_19
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 153,272 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(152,880 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(392 real changes made)

{com}.                 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22340{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01mar2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}392{col 51}{txt}missing .:  {res}0{txt}/{res}392

{txt}{col 19}mean:{res}{col 26} 22144.5{txt} = {res}17aug2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 113.305

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21988{col 37} 22046.5{col 47} 22144.5{col 57} 22242.5{col 67}   22301
{col 26}14mar2020{col 36}11may2020{col 46}17aug2020{col 56}23nov2020{col 66}21jan2021
{txt}
{com}. drop year month day date2
{txt}
{com}.                 
.                 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(17Nov2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201119", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 17Nov2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201119.pdf", replace
{txt}
{com}.         
.         
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(392 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201119 epoch20201119)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201119.dta", replace
{txt}file IHME20201119.dta saved

{com}. 
. 
. 
. shell rm -r "2020_11_19"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 21
. * linkdate      download        urldate
. * 03-Dec-20     2020_12_03      2020-12-03
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020-12-03" 
{res}{err}This is urldate 2020-12-03
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-12-03/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_12_03/best_masks_hospitalization_all_locs.csv
    inflating: 2020_12_03/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_12_03/no_vaccine_hospitalization_all_locs.csv
    inflating: 2020_12_03/reference_hospitalization_all_locs.csv
    inflating: 2020_12_03/Summary_stats_all_locs.csv
    inflating: 2020_12_03/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2020_12_03/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2020_12_03/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_12_03
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_12_03
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 165,393 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(164,970 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(423 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22371{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01apr2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}423{col 51}{txt}missing .:  {res}0{txt}/{res}423

{txt}{col 19}mean:{res}{col 26}   22160{txt} = {res}02sep2020{txt}
{col 15}std. dev:{res}{col 26} 122.254

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21991{col 37}   22054{col 47}   22160{col 57}   22266{col 67}   22329
{col 26}17mar2020{col 36}19may2020{col 46}02sep2020{col 56}17dec2020{col 66}18feb2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(01Dec2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201203", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 01Dec2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201203.pdf", replace
{txt}
{com}.         
.         
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(423 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201203 epoch20201203)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201203.dta", replace
{txt}file IHME20201203.dta saved

{com}. 
. 
. 
. shell rm -r "2020_12_03"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 22
. * linkdate      download        urldate
. * 10-Dec-20     2020_12_10      2020-12-10
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020-12-10" 
{res}{err}This is urldate 2020-12-10
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-12-10/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_12_10/best_masks_hospitalization_all_locs.csv
    inflating: 2020_12_10/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_12_10/no_vaccine_hospitalization_all_locs.csv
    inflating: 2020_12_10/reference_hospitalization_all_locs.csv
    inflating: 2020_12_10/Summary_stats_all_locs.csv
    inflating: 2020_12_10/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2020_12_10/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2020_12_10/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_12_10
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_12_10
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 165,393 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(164,970 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(423 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22371{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01apr2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}423{col 51}{txt}missing .:  {res}0{txt}/{res}423

{txt}{col 19}mean:{res}{col 26}   22160{txt} = {res}02sep2020{txt}
{col 15}std. dev:{res}{col 26} 122.254

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21991{col 37}   22054{col 47}   22160{col 57}   22266{col 67}   22329
{col 26}17mar2020{col 36}19may2020{col 46}02sep2020{col 56}17dec2020{col 66}18feb2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(08Dec2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201210", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 08Dec2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201210.pdf", replace
{txt}
{com}.         
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(423 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201210 epoch20201210)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201210.dta", replace
{txt}file IHME20201210.dta saved

{com}. 
. 
. 
. shell rm -r "2020_12_10"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 23
. * linkdate      download        urldate
. * 17-Dec-20     2020_12_17      2020-12-17
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020-12-17" 
{res}{err}This is urldate 2020-12-17
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-12-17/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_12_17/best_masks_hospitalization_all_locs.csv
    inflating: 2020_12_17/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_12_17/no_vaccine_hospitalization_all_locs.csv
    inflating: 2020_12_17/reference_hospitalization_all_locs.csv
    inflating: 2020_12_17/Summary_stats_all_locs.csv
    inflating: 2020_12_17/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2020_12_17/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2020_12_17/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_12_17
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_12_17
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 165,656 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(165,233 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(423 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22371{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01apr2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}423{col 51}{txt}missing .:  {res}0{txt}/{res}423

{txt}{col 19}mean:{res}{col 26}   22160{txt} = {res}02sep2020{txt}
{col 15}std. dev:{res}{col 26} 122.254

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21991{col 37}   22054{col 47}   22160{col 57}   22266{col 67}   22329
{col 26}17mar2020{col 36}19may2020{col 46}02sep2020{col 56}17dec2020{col 66}18feb2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(15Dec2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201217", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 15Dec2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201217.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(423 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201217 epoch20201217)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201217.dta", replace
{txt}file IHME20201217.dta saved

{com}. 
. 
. 
. shell rm -r "2020_12_17"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 24
. * linkdate      download        urldate
. * 23-Dec-20     2020_12_23      2020-12-23
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2020-12-23" 
{res}{err}This is urldate 2020-12-23
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2020-12-23/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2020_12_23/best_masks_hospitalization_all_locs.csv
    inflating: 2020_12_23/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2020_12_23/no_vaccine_hospitalization_all_locs.csv
    inflating: 2020_12_23/reference_hospitalization_all_locs.csv
    inflating: 2020_12_23/Summary_stats_all_locs.csv
    inflating: 2020_12_23/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2020_12_23/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2020_12_23/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2020_12_23
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2020_12_23
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 165,633 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(165,210 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(423 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22371{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01apr2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}423{col 51}{txt}missing .:  {res}0{txt}/{res}423

{txt}{col 19}mean:{res}{col 26}   22160{txt} = {res}02sep2020{txt}
{col 15}std. dev:{res}{col 26} 122.254

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21991{col 37}   22054{col 47}   22160{col 57}   22266{col 67}   22329
{col 26}17mar2020{col 36}19may2020{col 46}02sep2020{col 56}17dec2020{col 66}18feb2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(21Dec2020)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20201223", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 21Dec2020")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20201223.pdf", replace
{txt}
{com}.                 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(423 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120201223 epoch20201223)
{res}{txt}
{com}. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20201223.dta", replace
{txt}file IHME20201223.dta saved

{com}. 
. 
. 
. shell rm -r "2020_12_23"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 25
. * linkdate      download        urldate
. * 15-Jan-21     2021-01-15      2021-01-15
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-01-15" 
{res}{err}This is urldate 2021-01-15
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-01-15/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021-01-15/best_masks_hospitalization_all_locs.csv
    inflating: 2021-01-15/no_vaccine_hospitalization_all_locs.csv
    inflating: 2021-01-15/reference_hospitalization_all_locs.csv
    inflating: 2021-01-15/Summary_stats_all_locs.csv
    inflating: 2021-01-15/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2021-01-15/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2021-01-15/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021-01-15
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021-01-15
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(69 vars, 177,292 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(176,839 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(453 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22401{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01may2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}453{col 51}{txt}missing .:  {res}0{txt}/{res}453

{txt}{col 19}mean:{res}{col 26}   22175{txt} = {res}17sep2020{txt}
{col 15}std. dev:{res}{col 26} 130.914

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21994{col 37}   22062{col 47}   22175{col 57}   22288{col 67}   22356
{col 26}20mar2020{col 36}27may2020{col 46}17sep2020{col 56}08jan2021{col 66}17mar2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(12Jan2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210115", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 12Jan2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210115.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(453 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210115 epoch20210115)
{res}{txt}
{com}. 
. 
. 
.  
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210115.dta", replace
{txt}file IHME20210115.dta saved

{com}. 
. 
. 
. shell rm -r "2021-01-15"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 26
. * linkdate      download        urldate
. * 22-Jan-21     2021_01_22      2021-01-22
. * filename reference_hospitalization_all_locs.csv
. * cd
.                 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-01-22" 
{res}{err}This is urldate 2021-01-22
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-01-22/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_01_22/best_masks_hospitalization_all_locs.csv
    inflating: 2021_01_22/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_01_22/no_vaccine_hospitalization_all_locs.csv
    inflating: 2021_01_22/reference_hospitalization_all_locs.csv
    inflating: 2021_01_22/Summary_stats_all_locs.csv
    inflating: 2021_01_22/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2021_01_22/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2021_01_22/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_01_22
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_01_22
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 177,123 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(176,670 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(453 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22401{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01may2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}453{col 51}{txt}missing .:  {res}0{txt}/{res}453

{txt}{col 19}mean:{res}{col 26}   22175{txt} = {res}17sep2020{txt}
{col 15}std. dev:{res}{col 26} 130.914

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21994{col 37}   22062{col 47}   22175{col 57}   22288{col 67}   22356
{col 26}20mar2020{col 36}27may2020{col 46}17sep2020{col 56}08jan2021{col 66}17mar2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
. 
. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
.         
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(17Jan2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210122", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 17Jan2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210122.pdf", replace
{txt}
{com}.                 
.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(453 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210122 epoch20210122)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210122.dta", replace
{txt}file IHME20210122.dta saved

{com}. 
. 
. 
. shell rm -r "2021_01_22"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 27
. * linkdate      download        urldate
. * 28-Jan-21     2021_01_28      2021-01-28
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-01-28" 
{res}{err}This is urldate 2021-01-28
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-01-28/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_01_28/best_masks_hospitalization_all_locs.csv
    inflating: 2021_01_28/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_01_28/no_vaccine_hospitalization_all_locs.csv
    inflating: 2021_01_28/reference_hospitalization_all_locs.csv
    inflating: 2021_01_28/Summary_stats_all_locs.csv
    inflating: 2021_01_28/vaccine_fast_elderly_hospitalization_all_locs.csv
    inflating: 2021_01_28/vaccine_fast_hospitalization_all_locs.csv
    inflating: 2021_01_28/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_01_28
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_01_28
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 176,670 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(176,217 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(453 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22401{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01may2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}453{col 51}{txt}missing .:  {res}0{txt}/{res}453

{txt}{col 19}mean:{res}{col 26}   22175{txt} = {res}17sep2020{txt}
{col 15}std. dev:{res}{col 26} 130.914

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21994{col 37}   22062{col 47}   22175{col 57}   22288{col 67}   22356
{col 26}20mar2020{col 36}27may2020{col 46}17sep2020{col 56}08jan2021{col 66}17mar2021
{txt}
{com}. drop year month day date2
{txt}
{com}.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(23Jan2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210128", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 23Jan2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210128.pdf", replace
{txt}
{com}.                 
.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(453 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210128 epoch20210128)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210128.dta", replace
{txt}file IHME20210128.dta saved

{com}. 
. 
. 
. shell rm -r "2021_01_28"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 28
. * linkdate      download        urldate
. * 04-Feb-21     2021_02_04      2021-02-04
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. 
. clear
{txt}
{com}.                                 
. di in red "This is urldate 2021-02-04" 
{res}{err}This is urldate 2021-02-04
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-02-04/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_02_04/best_masks_hospitalization_all_locs.csv
    inflating: 2021_02_04/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_02_04/new_variant_hospitalization_all_locs.csv
    inflating: 2021_02_04/reference_hospitalization_all_locs.csv
    inflating: 2021_02_04/Summary_stats_all_locs.csv
    inflating: 2021_02_04/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_02_04
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_02_04
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 188,760 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(188,276 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(484 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22432{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jun2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}484{col 51}{txt}missing .:  {res}0{txt}/{res}484

{txt}{col 19}mean:{res}{col 26} 22190.5{txt} = {res}02oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 139.863

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21997{col 37} 22069.5{col 47} 22190.5{col 57} 22311.5{col 67}   22384
{col 26}23mar2020{col 36}03jun2020{col 46}02oct2020{col 56}31jan2021{col 66}14apr2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(30Jan2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210204", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 30Jan2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210204.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(484 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210204 epoch20210204)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210204.dta", replace
{txt}file IHME20210204.dta saved

{com}. 
. 
. 
. shell rm -r "2021_02_04"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 29                
. * linkdate      download        urldate
. * 12-Feb-21     2021_02_12      2021-02-12
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-02-12" 
{res}{err}This is urldate 2021-02-12
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-02-12/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_02_12/best_masks_hospitalization_all_locs.csv
    inflating: 2021_02_12/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_02_12/new_variant_hospitalization_all_locs.csv
    inflating: 2021_02_12/reference_hospitalization_all_locs.csv
    inflating: 2021_02_12/Summary_stats_all_locs.csv
    inflating: 2021_02_12/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_02_12
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_02_12
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 189,247 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(188,763 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(484 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22432{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jun2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}484{col 51}{txt}missing .:  {res}0{txt}/{res}484

{txt}{col 19}mean:{res}{col 26} 22190.5{txt} = {res}02oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 139.863

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21997{col 37} 22069.5{col 47} 22190.5{col 57} 22311.5{col 67}   22384
{col 26}23mar2020{col 36}03jun2020{col 46}02oct2020{col 56}31jan2021{col 66}14apr2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
.         
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(07Feb2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210212", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 07Feb2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210212.pdf", replace
{txt}
{com}.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(484 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210212 epoch20210212)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210212.dta", replace
{txt}file IHME20210212.dta saved

{com}. 
. 
. 
. shell rm -r "2021_02_12"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 30                
. * linkdate      download        urldate
. * 20-Feb-21     2021_02_20      2021-02-20
. * filename reference_hospitalization_all_locs.csv
. * cd
.                 
. clear           
{txt}
{com}. 
. di in red "This is urldate 2021-02-20" 
{res}{err}This is urldate 2021-02-20
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-02-20/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_02_20/best_masks_hospitalization_all_locs.csv
    inflating: 2021_02_20/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_02_20/reference_hospitalization_all_locs.csv
    inflating: 2021_02_20/Summary_stats_all_locs.csv
    inflating: 2021_02_20/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_02_20
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_02_20
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 189,244 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(188,760 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(484 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22432{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jun2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}484{col 51}{txt}missing .:  {res}0{txt}/{res}484

{txt}{col 19}mean:{res}{col 26} 22190.5{txt} = {res}02oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 139.863

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21997{col 37} 22069.5{col 47} 22190.5{col 57} 22311.5{col 67}   22384
{col 26}23mar2020{col 36}03jun2020{col 46}02oct2020{col 56}31jan2021{col 66}14apr2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(14Feb2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210220", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 14Feb2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210220.pdf", replace
{txt}
{com}.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(484 real changes made)

{com}. 
. 
. 
. 
. *
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210220 epoch20210220)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210220.dta", replace
{txt}file IHME20210220.dta saved

{com}. 
. 
. 
. shell rm -r "2021_02_20"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 31                
. * linkdate      download        urldate
. * 25-Feb-21     2021_02_25      2021-02-25
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-02-25" 
{res}{err}This is urldate 2021-02-25
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-02-25/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_02_25/best_masks_hospitalization_all_locs.csv
    inflating: 2021_02_25/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_02_25/reference_hospitalization_all_locs.csv
    inflating: 2021_02_25/Summary_stats_all_locs.csv
    inflating: 2021_02_25/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_02_25
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_02_25
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 188,760 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(188,276 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(484 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22432{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jun2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}484{col 51}{txt}missing .:  {res}0{txt}/{res}484

{txt}{col 19}mean:{res}{col 26} 22190.5{txt} = {res}02oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 139.863

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   21997{col 37} 22069.5{col 47} 22190.5{col 57} 22311.5{col 67}   22384
{col 26}23mar2020{col 36}03jun2020{col 46}02oct2020{col 56}31jan2021{col 66}14apr2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
.         
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(20Feb2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210225", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 20Feb2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210225.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(484 real changes made)

{com}. 
. 
. 
. 
. 
. *
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210225 epoch20210225)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210225.dta", replace
{txt}file IHME20210225.dta saved

{com}. 
. 
. 
. shell rm -r "2021_02_25"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 32                
. * linkdate      download        urldate
. * 06-Mar-21     2021_03_06      2021-03-06
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-03-06" 
{res}{err}This is urldate 2021-03-06
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-03-06/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_03_06/best_masks_hospitalization_all_locs.csv
    inflating: 2021_03_06/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_03_06/reference_hospitalization_all_locs.csv
    inflating: 2021_03_06/Summary_stats_all_locs.csv
    inflating: 2021_03_06/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_03_06
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_03_06
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 197,240 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(196,726 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(514 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22462{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}514{col 51}{txt}missing .:  {res}0{txt}/{res}514

{txt}{col 19}mean:{res}{col 26} 22205.5{txt} = {res}17oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 148.523

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22000{col 37}   22077{col 47} 22205.5{col 57}   22334{col 67}   22411
{col 26}26mar2020{col 36}11jun2020{col 46}17oct2020{col 56}23feb2021{col 66}11may2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(27Feb2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210306", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 27Feb2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210306.pdf", replace
{txt}
{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(514 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210306 epoch20210306)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210306.dta", replace
{txt}file IHME20210306.dta saved

{com}. 
. 
. 
. shell rm -r "2021_03_06"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 33
. * linkdate      download        urldate
. * 11-Mar-21     2021_03_11      2021-03-11
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-03-11" 
{res}{err}This is urldate 2021-03-11
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-03-11/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_03_11/best_masks_hospitalization_all_locs.csv
    inflating: 2021_03_11/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_03_11/reference_hospitalization_all_locs.csv
    inflating: 2021_03_11/Summary_stats_all_locs.csv
    inflating: 2021_03_11/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_03_11
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_03_11
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 197,292 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(196,778 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(514 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22462{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}514{col 51}{txt}missing .:  {res}0{txt}/{res}514

{txt}{col 19}mean:{res}{col 26} 22205.5{txt} = {res}17oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 148.523

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22000{col 37}   22077{col 47} 22205.5{col 57}   22334{col 67}   22411
{col 26}26mar2020{col 36}11jun2020{col 46}17oct2020{col 56}23feb2021{col 66}11may2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(06Mar2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210311", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 06Mar2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210311.pdf", replace
{txt}
{com}. 
.         
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(514 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210311 epoch20210311)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210311.dta", replace
{txt}file IHME20210311.dta saved

{com}. 
. 
. 
. shell rm -r "2021_03_11"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 34
. * linkdate      download        urldate
. * 17-Mar-21     2021_03_17      2021-03-17
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-03-17" 
{res}{err}This is urldate 2021-03-17
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-03-17/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_03_17/best_masks_hospitalization_all_locs.csv
    inflating: 2021_03_17/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_03_17/reference_hospitalization_all_locs.csv
    inflating: 2021_03_17/Summary_stats_all_locs.csv
    inflating: 2021_03_17/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_03_17
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_03_17
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 196,802 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(196,288 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(514 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22462{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}514{col 51}{txt}missing .:  {res}0{txt}/{res}514

{txt}{col 19}mean:{res}{col 26} 22205.5{txt} = {res}17oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 148.523

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22000{col 37}   22077{col 47} 22205.5{col 57}   22334{col 67}   22411
{col 26}26mar2020{col 36}11jun2020{col 46}17oct2020{col 56}23feb2021{col 66}11may2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(13Mar2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210317", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 13Mar2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210317.pdf", replace
{txt}
{com}.         
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(514 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210317 epoch20210317)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210317.dta", replace
{txt}file IHME20210317.dta saved

{com}. 
. 
. 
. shell rm -r "2021_03_17"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 35
. * linkdate      download        urldate
. * 25-Mar-21     2021_03_25      2021-03-25
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-03-25" 
{res}{err}This is urldate 2021-03-25
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-03-25/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_03_25/best_masks_hospitalization_all_locs.csv
    inflating: 2021_03_25/reference_hospitalization_all_locs.csv
    inflating: 2021_03_25/Summary_stats_all_locs.csv
    inflating: 2021_03_25/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_03_25
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_03_25
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 196,847 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(196,333 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(514 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22462{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}514{col 51}{txt}missing .:  {res}0{txt}/{res}514

{txt}{col 19}mean:{res}{col 26} 22205.5{txt} = {res}17oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 148.523

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22000{col 37}   22077{col 47} 22205.5{col 57}   22334{col 67}   22411
{col 26}26mar2020{col 36}11jun2020{col 46}17oct2020{col 56}23feb2021{col 66}11may2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(20Mar2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210325", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 20Mar2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210325.pdf", replace
{txt}
{com}.         
. 
.         
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(514 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210325 epoch20210325)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210325.dta", replace
{txt}file IHME20210325.dta saved

{com}. 
. 
. 
. shell rm -r "2021_03_25"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 36
. * linkdate      download        urldate
. * 01-Apr-21     2021_04_01      2021-04-01
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-04-01" 
{res}{err}This is urldate 2021-04-01
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-04-01/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_04_01/best_masks_hospitalization_all_locs.csv
    inflating: 2021_04_01/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_04_01/reference_hospitalization_all_locs.csv
    inflating: 2021_04_01/Summary_stats_all_locs.csv
    inflating: 2021_04_01/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_04_01
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_04_01
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 196,847 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(196,333 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(514 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22462{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jul2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}514{col 51}{txt}missing .:  {res}0{txt}/{res}514

{txt}{col 19}mean:{res}{col 26} 22205.5{txt} = {res}17oct2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 148.523

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22000{col 37}   22077{col 47} 22205.5{col 57}   22334{col 67}   22411
{col 26}26mar2020{col 36}11jun2020{col 46}17oct2020{col 56}23feb2021{col 66}11may2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(27Mar2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210401", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 27Mar2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210401.pdf", replace
{txt}
{com}.         
. 
.         
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(514 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210401 epoch20210401)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210401.dta", replace
{txt}file IHME20210401.dta saved

{com}. 
. 
. 
. shell rm -r "2021_04_01"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 37
. * linkdate      download        urldate
. * 09-Apr-21     2021_04_09      2021-04-09
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-04-09" 
{res}{err}This is urldate 2021-04-09
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-04-09/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_04_09/best_masks_hospitalization_all_locs.csv
    inflating: 2021_04_09/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_04_09/reference_hospitalization_all_locs.csv
    inflating: 2021_04_09/Summary_stats_all_locs.csv
    inflating: 2021_04_09/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_04_09
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_04_09
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(73 vars, 208,406 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(207,861 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(545 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22493{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01aug2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}545{col 51}{txt}missing .:  {res}0{txt}/{res}545

{txt}{col 19}mean:{res}{col 26}   22221{txt} = {res}02nov2020{txt}
{col 15}std. dev:{res}{col 26} 157.472

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22003{col 37}   22085{col 47}   22221{col 57}   22357{col 67}   22439
{col 26}29mar2020{col 36}19jun2020{col 46}02nov2020{col 56}18mar2021{col 66}08jun2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(03Apr2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210409", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 03Apr2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210409.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(545 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210409 epoch20210409)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210409.dta", replace
{txt}file IHME20210409.dta saved

{com}. 
. 
. 
. shell rm -r "2021_04_09"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 38
. * linkdate      download        urldate
. * 16-Apr-21     2021-04-16      2021-04-16
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-04-16" 
{res}{err}This is urldate 2021-04-16
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-04-16/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021-04-16/best_masks_hospitalization_all_locs.csv
    inflating: 2021-04-16/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021-04-16/reference_hospitalization_all_locs.csv
    inflating: 2021-04-16/Summary_stats_all_locs.csv
    inflating: 2021-04-16/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021-04-16
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021-04-16
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(67 vars, 204,256 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(203,711 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(545 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22493{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01aug2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}545{col 51}{txt}missing .:  {res}0{txt}/{res}545

{txt}{col 19}mean:{res}{col 26}   22221{txt} = {res}02nov2020{txt}
{col 15}std. dev:{res}{col 26} 157.472

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22003{col 37}   22085{col 47}   22221{col 57}   22357{col 67}   22439
{col 26}29mar2020{col 36}19jun2020{col 46}02nov2020{col 56}18mar2021{col 66}08jun2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(12Apr2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210416", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 12Apr2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210416.pdf", replace
{txt}
{com}.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(545 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210416 epoch20210416)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210416.dta", replace
{txt}file IHME20210416.dta saved

{com}. 
. 
. 
. shell rm -r "2021-04-16"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 39
. * linkdate      download        urldate
. * 23-Apr-21     2021_04_22      2021-04-23
. * filename reference_hospitalization_all_locs.csv
. * cd
.                                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-04-23" 
{res}{err}This is urldate 2021-04-23
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-04-23/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_04_22/best_masks_hospitalization_all_locs.csv
    inflating: 2021_04_22/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_04_22/reference_hospitalization_all_locs.csv
    inflating: 2021_04_22/Summary_stats_all_locs.csv
    inflating: 2021_04_22/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_04_22
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_04_22
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(67 vars, 204,750 obs)

{com}. 
. keep if regexm(location_name,"$country") == 1 
{txt}(204,205 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(545 real changes made)

{com}. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22493{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01aug2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}545{col 51}{txt}missing .:  {res}0{txt}/{res}545

{txt}{col 19}mean:{res}{col 26}   22221{txt} = {res}02nov2020{txt}
{col 15}std. dev:{res}{col 26} 157.472

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22003{col 37}   22085{col 47}   22221{col 57}   22357{col 67}   22439
{col 26}29mar2020{col 36}19jun2020{col 46}02nov2020{col 56}18mar2021{col 66}08jun2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(20Apr2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210423", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 20Apr2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210423.pdf", replace
{txt}
{com}.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(545 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210423 epoch20210423)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210423.dta", replace
{txt}file IHME20210423.dta saved

{com}. 
. 
. 
. shell rm -r "2021_04_22"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 40
. * linkdate      download        urldate
. * 06-May-21     2021-05-06      2021-05-06
. * filename reference_hospitalization_all_locs.csv
. * cd 
. 
. clear 
{txt}
{com}.                                 
. di in red "This is urldate 2021-05-06" 
{res}{err}This is urldate 2021-05-06
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-05-06/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021-05-06/best_masks_hospitalization_all_locs.csv
    inflating: 2021-05-06/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021-05-06/reference_hospitalization_all_locs.csv
    inflating: 2021-05-06/Summary_stats_all_locs.csv
    inflating: 2021-05-06/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021-05-06
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021-05-06
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(91 vars, 216,793 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(216,217 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(576 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22524{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01sep2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}576{col 51}{txt}missing .:  {res}0{txt}/{res}576

{txt}{col 19}mean:{res}{col 26} 22236.5{txt} = {res}17nov2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 166.421

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22006{col 37} 22092.5{col 47} 22236.5{col 57} 22380.5{col 67}   22467
{col 26}01apr2020{col 36}26jun2020{col 46}17nov2020{col 56}10apr2021{col 66}06jul2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(05May2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210506", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 05May2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210506.pdf", replace
{txt}
{com}.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(576 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210506 epoch20210506)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210506.dta", replace
{txt}file IHME20210506.dta saved

{com}. 
. 
. shell rm -r "2021-05-06"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 41
. * linkdate      download        urldate
. * 14-May-21     ihme-covid19    2021-05-14
. * filename reference_hospitalization_all_locs.csv
. 
. 
. clear   
{txt}
{com}. 
. di in red "This is urldate 2021-05-14" 
{res}{err}This is urldate 2021-05-14
{txt}
{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-05-14/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(88 vars, 216,793 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(216,217 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(576 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22524{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01sep2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}576{col 51}{txt}missing .:  {res}0{txt}/{res}576

{txt}{col 19}mean:{res}{col 26} 22236.5{txt} = {res}17nov2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 166.421

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22006{col 37} 22092.5{col 47} 22236.5{col 57} 22380.5{col 67}   22467
{col 26}01apr2020{col 36}26jun2020{col 46}17nov2020{col 56}10apr2021{col 66}06jul2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(12May2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210514", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 12May2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210514.pdf", replace
{txt}
{com}.                 
.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(576 real changes made)

{com}. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210514 epoch20210514)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. 
. 
. save "IHME20210514.dta", replace
{txt}file IHME20210514.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 42 TO Iran update 49
. * linkdate = urldate
. * filename reference_hospitalization_all_locs.csv
. 
. /*
> Iran update                     
>                                                 linkdate        linkdate        download                urldate
> 
> Iran update 42          20210521        21-May-21       ihme-covid19    2021-05-21
> Iran update 43          20210528        28-May-21       ihme-covid19    2021-05-28
> Iran update 44          20210604        04-Jun-21       ihme-covid19    2021-06-04
> Iran update 45          20210610        10-Jun-21       ihme-covid19    2021-06-10
> Iran update 46          20210618        18-Jun-21       ihme-covid19    2021-06-18
> Iran update 47          20210625        25-Jun-21       ihme-covid19    2021-06-25
> Iran update 48          20210702        02-Jul-21       ihme-covid19    2021-07-02
> Iran update 49          20210715        15-Jul-21       ihme-covid19    2021-07-15
> */
. 
. clear
{txt}
{com}. 
. local list3 ///
> 2021-05-21 ///
> 2021-05-28 ///
> 2021-06-04 ///
> 2021-06-10 ///
> 2021-06-18 ///
> 2021-06-25 ///
> 2021-07-02 ///
> 2021-07-15 
{txt}
{com}. 
. 
. 
. 
. foreach update of local list3 {c -(}                         
{txt}  2{com}. 
. di in red "This is urldate " "`update'"
{txt}  3{com}. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/`update'/ihme-covid19.zip ihme-covid19.zip
{txt}  4{com}. unzipfile ihme-covid19.zip, replace
{txt}  5{com}. erase ihme-covid19.zip
{txt}  6{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{txt}  7{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}  8{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}  9{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{txt} 10{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt} 11{com}. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{txt} 12{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt} 13{com}. 
. 
. rename date date_original
{txt} 14{com}. gen year = substr(date_original,1,4) 
{txt} 15{com}. gen month = substr(date_original,6,2) 
{txt} 16{com}. gen day = substr(date_original,9,2) 
{txt} 17{com}. egen date2 = concat(day month year)
{txt} 18{com}. gen date = date(date2, "DMY", 2050)
{txt} 19{com}. format date %tdDDMonCCYY
{txt} 20{com}. codebook date
{txt} 21{com}. drop year month day date2
{txt} 22{com}. 
. 
. rename location_name provincestate
{txt} 23{com}. 
. gen loc_grand_name = "$country"
{txt} 24{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt} 25{com}. 
. 
. 
. 
. 
. 
. gen updatedash = "`update'" 
{txt} 26{com}. 
. gen year = substr(updatedash,1,4)
{txt} 27{com}. gen month = substr(updatedash,6,2)
{txt} 28{com}. gen day = substr(updatedash,9,2)
{txt} 29{com}. 
. gen updatetag = year + month + day
{txt} 30{com}. 
. local updatetag = updatetag
{txt} 31{com}. 
. drop updatedash year month day updatetag
{txt} 32{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 
{txt} 33{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt} 34{com}. 
. sort loc_grand_name provincestate date
{txt} 35{com}. 
. 
. 
. 
. 
. 
. 
. 
. 
. qui compress
{txt} 36{com}. 
. save "IHME`updatetag'.dta", replace
{txt} 37{com}. 
. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt} 38{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt} 39{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt} 40{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt} 41{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt} 42{com}. 
. 
. {c )-}
{err}This is urldate 2021-05-21
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(88 vars, 217,103 obs)
(216,527 observations deleted)
(576 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22524{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01sep2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}576{col 51}{txt}missing .:  {res}0{txt}/{res}576

{txt}{col 19}mean:{res}{col 26} 22236.5{txt} = {res}17nov2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 166.421

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22006{col 37} 22092.5{col 47} 22236.5{col 57} 22380.5{col 67}   22467
{col 26}01apr2020{col 36}26jun2020{col 46}17nov2020{col 56}10apr2021{col 66}06jul2021
{txt}(576 real changes made)
file IHME20210521.dta saved





{err}This is urldate 2021-05-28
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(88 vars, 217,103 obs)
(216,527 observations deleted)
(576 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22524{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01sep2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}576{col 51}{txt}missing .:  {res}0{txt}/{res}576

{txt}{col 19}mean:{res}{col 26} 22236.5{txt} = {res}17nov2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 166.421

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22006{col 37} 22092.5{col 47} 22236.5{col 57} 22380.5{col 67}   22467
{col 26}01apr2020{col 36}26jun2020{col 46}17nov2020{col 56}10apr2021{col 66}06jul2021
{txt}(576 real changes made)
file IHME20210528.dta saved





{err}This is urldate 2021-06-04
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(84 vars, 218,158 obs)
(217,582 observations deleted)
(576 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22524{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01sep2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}576{col 51}{txt}missing .:  {res}0{txt}/{res}576

{txt}{col 19}mean:{res}{col 26} 22236.5{txt} = {res}17nov2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 166.421

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22006{col 37} 22092.5{col 47} 22236.5{col 57} 22380.5{col 67}   22467
{col 26}01apr2020{col 36}26jun2020{col 46}17nov2020{col 56}10apr2021{col 66}06jul2021
{txt}(576 real changes made)
file IHME20210604.dta saved





{err}This is urldate 2021-06-10
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(84 vars, 229,697 obs)
(229,091 observations deleted)
(606 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22554{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01oct2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}606{col 51}{txt}missing .:  {res}0{txt}/{res}606

{txt}{col 19}mean:{res}{col 26} 22251.5{txt} = {res}02dec2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 175.081

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22009{col 37}   22100{col 47} 22251.5{col 57}   22403{col 67}   22494
{col 26}04apr2020{col 36}04jul2020{col 46}02dec2020{col 56}03may2021{col 66}02aug2021
{txt}(606 real changes made)
file IHME20210610.dta saved





{err}This is urldate 2021-06-18
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(84 vars, 229,695 obs)
(229,089 observations deleted)
(606 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22554{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01oct2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}606{col 51}{txt}missing .:  {res}0{txt}/{res}606

{txt}{col 19}mean:{res}{col 26} 22251.5{txt} = {res}02dec2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 175.081

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22009{col 37}   22100{col 47} 22251.5{col 57}   22403{col 67}   22494
{col 26}04apr2020{col 36}04jul2020{col 46}02dec2020{col 56}03may2021{col 66}02aug2021
{txt}(606 real changes made)
file IHME20210618.dta saved





{err}This is urldate 2021-06-25
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(84 vars, 229,695 obs)
(229,089 observations deleted)
(606 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22554{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01oct2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}606{col 51}{txt}missing .:  {res}0{txt}/{res}606

{txt}{col 19}mean:{res}{col 26} 22251.5{txt} = {res}02dec2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 175.081

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22009{col 37}   22100{col 47} 22251.5{col 57}   22403{col 67}   22494
{col 26}04apr2020{col 36}04jul2020{col 46}02dec2020{col 56}03may2021{col 66}02aug2021
{txt}(606 real changes made)
file IHME20210625.dta saved





{err}This is urldate 2021-07-02
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(84 vars, 229,689 obs)
(229,083 observations deleted)
(606 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22554{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01oct2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}606{col 51}{txt}missing .:  {res}0{txt}/{res}606

{txt}{col 19}mean:{res}{col 26} 22251.5{txt} = {res}02dec2020{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26} 175.081

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22009{col 37}   22100{col 47} 22251.5{col 57}   22403{col 67}   22494
{col 26}04apr2020{col 36}04jul2020{col 46}02dec2020{col 56}03may2021{col 66}02aug2021
{txt}(606 real changes made)
file IHME20210702.dta saved





{err}This is urldate 2021-07-15
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(84 vars, 241,599 obs)
(240,962 observations deleted)
(637 real changes made)
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22585{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}637{col 51}{txt}missing .:  {res}0{txt}/{res}637

{txt}{col 19}mean:{res}{col 26}   22267{txt} = {res}18dec2020{txt}
{col 15}std. dev:{res}{col 26}  184.03

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22012{col 37}   22108{col 47}   22267{col 57}   22426{col 67}   22522
{col 26}07apr2020{col 36}12jul2020{col 46}18dec2020{col 56}26may2021{col 66}30aug2021
{txt}(637 real changes made)
file IHME20210715.dta saved






{com}. ***
. 
. 
. 
. * update 20210521 epoch
. 
. use "IHME20210521.dta", clear
{txt}
{com}. 
. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210521)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210521 
. gen epoch = td(17May2021)
{txt}
{com}. di td(17May2021)
{res}22417
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210521 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210521", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22417, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 17May2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210521.pdf", replace
{txt}
{com}.                 
. rename epoch epoch20210521
{res}{txt}
{com}. 
. 
. save "IHME20210521.dta", replace
{txt}file IHME20210521.dta saved

{com}. 
. *
. 
. 
. 
. 
. * update 20210528 epoch
. 
. use "IHME20210528.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210528)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210528 
. gen epoch = td(23May2021)
{txt}
{com}. di td(21May2021)
{res}22421
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210528 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210528", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22421, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 21May2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210528.pdf", replace
{txt}
{com}.                 
. rename epoch epoch20210528
{res}{txt}
{com}. 
. save "IHME20210528.dta", replace
{txt}file IHME20210528.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. * update 20210604 epoch
. 
. use "IHME20210604.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210604)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210604 
. gen epoch = td(01Jun2021)
{txt}
{com}. di td(01Jun2021)
{res}22432
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210604 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210604", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22431, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 01Jun2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210604.pdf", replace
{txt}
{com}.                 
. 
. rename epoch epoch20210604
{res}{txt}
{com}. 
. save "IHME20210604.dta", replace
{txt}file IHME20210604.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. 
. * update 20210610 epoch
. 
. use "IHME20210610.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210610)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210610 
. gen epoch = td(08Jun2021)
{txt}
{com}. di td(08Jun2021)
{res}22439
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210610 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210610", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22439, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 08Jun2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210610.pdf", replace
{txt}
{com}.                 
. 
. rename epoch epoch20210610
{res}{txt}
{com}. 
. save "IHME20210610.dta", replace
{txt}file IHME20210610.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. * update 20210618 epoch
. 
. use "IHME20210618.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210618)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210618 
. gen epoch = td(16Jun2021)
{txt}
{com}. di td(16Jun2021)
{res}22447
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210618 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210618", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22447, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 16Jun2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210618.pdf", replace
{txt}
{com}.                 
. 
. rename epoch epoch20210618
{res}{txt}
{com}. 
. save "IHME20210618.dta", replace
{txt}file IHME20210618.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. * update 20210625 epoch
. 
. use "IHME20210625.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210625)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210625 
. gen epoch = td(23Jun2021)
{txt}
{com}. di td(23Jun2021)
{res}22454
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210625 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210625", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22454, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 23Jun2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210625.pdf", replace
{txt}
{com}.                 
. 
. rename epoch epoch20210625
{res}{txt}
{com}. 
. save "IHME20210625.dta", replace
{txt}file IHME20210625.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. * update 20210702 epoch
. 
. use "IHME20210702.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210702)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210702 
. gen epoch = td(30Jun2021)
{txt}
{com}. di td(30Jun2021)
{res}22461
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210702 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210702", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22461, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 30Jun2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210702.pdf", replace
{txt}
{com}.                 
. 
. rename epoch epoch20210702
{res}{txt}
{com}. 
. save "IHME20210702.dta", replace
{txt}file IHME20210702.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. * update 20210715 epoch
. 
. use "IHME20210715.dta", clear
{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210715)
{res}{txt}
{com}. 
. // br date DayDeaMeSmA02S0120210715 
. gen epoch = td(11Jul2021)
{txt}
{com}. di td(11Jul2021)
{res}22472
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeSmA02S0120210715 date, sort lwidth(medium) lcolor(black)) ///     
>  ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210715", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22472, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 11Jul2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210715.pdf", replace
{txt}
{com}.                 
. rename epoch epoch20210715
{res}{txt}
{com}. 
. save "IHME20210715.dta", replace
{txt}file IHME20210715.dta saved

{com}. 
. *
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 50 
. * linkdate != urldate; 20210723, 2021-07-25
. * filename reference_hospitalization_all_locs.csv 
. 
. 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-07-25, update 20210723" 
{res}{err}This is urldate 2021-07-25, update 20210723
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-07-25/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 241,599 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(240,962 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(637 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22585{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}637{col 51}{txt}missing .:  {res}0{txt}/{res}637

{txt}{col 19}mean:{res}{col 26}   22267{txt} = {res}18dec2020{txt}
{col 15}std. dev:{res}{col 26}  184.03

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22012{col 37}   22108{col 47}   22267{col 57}   22426{col 67}   22522
{col 26}07apr2020{col 36}12jul2020{col 46}18dec2020{col 56}26may2021{col 66}30aug2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(19Jul2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210723", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 19Jul2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210723.pdf", replace
{txt}
{com}.                 
. 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(637 real changes made)

{com}. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210723 epoch20210723)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. save "IHME20210723.dta", replace
{txt}file IHME20210723.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 51
. * linkdate != urldate; 20210730, 2021-07-31
. * filename reference_hospitalization_all_locs.csv 
. 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-07-31, update 20210730"
{res}{err}This is urldate 2021-07-31, update 20210730
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-07-31/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 241,599 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(240,962 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1 
{txt}(637 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22585{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01nov2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}637{col 51}{txt}missing .:  {res}0{txt}/{res}637

{txt}{col 19}mean:{res}{col 26}   22267{txt} = {res}18dec2020{txt}
{col 15}std. dev:{res}{col 26}  184.03

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22012{col 37}   22108{col 47}   22267{col 57}   22426{col 67}   22522
{col 26}07apr2020{col 36}12jul2020{col 46}18dec2020{col 56}26may2021{col 66}30aug2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(26Jul2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210730", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 26Jul2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210730.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(637 real changes made)

{com}. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210730 epoch20210730)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. save "IHME20210730.dta", replace
{txt}file IHME20210730.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 52
. * linkdate      download        urldate
. * 20210806      2021_08_04      2021-08-09
. * filename reference_hospitalization_all_locs.csv 
. * cd 
. * cd: If the individual data files have been zipped together, downloading the zipped file (i.e., ihme-covid19.zip) 
. *   results in individual data files being placed in the present working directory (-pwd-), i.e., |code|IHME| here). 
. *   No -cd- is needed. On the other hand, if a directory containing the individual data files has been zipped, 
. *   downloading the zipped file results in the unzipped directory (e.g. |2020_06_24.02|) 
. *   being placed in the present working directory. Therefore, -cd- down to that directory 
. *   (and -cd ..- at the end before saving the final file) is needed. 
. 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-08-09, update 20210806"
{res}{err}This is urldate 2021-08-09, update 20210806
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-08-09/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: 2021_08_04/best_masks_hospitalization_all_locs.csv
    inflating: 2021_08_04/IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: 2021_08_04/reference_hospitalization_all_locs.csv
    inflating: 2021_08_04/Summary_stats_all_locs.csv
    inflating: 2021_08_04/worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. cd 2021_08_04
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/2021_08_04
{txt}
{com}. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 253,115 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(252,448 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(667 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22615{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}667{col 51}{txt}missing .:  {res}0{txt}/{res}667

{txt}{col 19}mean:{res}{col 26}   22282{txt} = {res}02jan2021{txt}
{col 15}std. dev:{res}{col 26} 192.691

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22015{col 37}   22115{col 47}   22282{col 57}   22449{col 67}   22549
{col 26}10apr2020{col 36}19jul2020{col 46}02jan2021{col 56}18jun2021{col 66}26sep2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(01Aug2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210806", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 01Aug2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210806.pdf", replace
{txt}
{com}.                 
.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(667 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210806 epoch20210806)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. cd ..
{res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME
{txt}
{com}. 
. save "IHME20210806.dta", replace
{txt}file IHME20210806.dta saved

{com}. 
. 
. 
. shell rm -r "2021_08_04"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 53
. * linkdate      download        urldate
. * 20210820      ihme-covid19    2021-08-23
. * filename reference_hospitalization_all_locs.csv 
. 
. 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-08-23, update 20210820"
{res}{err}This is urldate 2021-08-23, update 20210820
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-08-23/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 253,115 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(252,448 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(667 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22615{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}667{col 51}{txt}missing .:  {res}0{txt}/{res}667

{txt}{col 19}mean:{res}{col 26}   22282{txt} = {res}02jan2021{txt}
{col 15}std. dev:{res}{col 26} 192.691

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22015{col 37}   22115{col 47}   22282{col 57}   22449{col 67}   22549
{col 26}10apr2020{col 36}19jul2020{col 46}02jan2021{col 56}18jun2021{col 66}26sep2021
{txt}
{com}. drop year month day date2
{txt}
{com}.                 
. * rename variables
. 
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
.         
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(15Aug2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210820", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 15Aug2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210820.pdf", replace
{txt}
{com}.                 
.                 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(667 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210820 epoch20210820)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. save "IHME20210820.dta", replace
{txt}file IHME20210820.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 54
. * linkdate      download        urldate
. * 26-Aug-21     ihme-covid19    2021-08-26
. * filename reference_hospitalization_all_locs.csv 
. 
. 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-08-26"
{res}{err}This is urldate 2021-08-26
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-08-26/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 253,115 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(252,448 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(667 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22615{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}667{col 51}{txt}missing .:  {res}0{txt}/{res}667

{txt}{col 19}mean:{res}{col 26}   22282{txt} = {res}02jan2021{txt}
{col 15}std. dev:{res}{col 26} 192.691

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22015{col 37}   22115{col 47}   22282{col 57}   22449{col 67}   22549
{col 26}10apr2020{col 36}19jul2020{col 46}02jan2021{col 56}18jun2021{col 66}26sep2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(23Aug2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210826", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 23Aug2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210826.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(667 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210826 epoch20210826)
{res}{txt}
{com}. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. save "IHME20210826.dta", replace
{txt}file IHME20210826.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 55
. * linkdate      download                urldate
. * 20210902      ihme-covid19    2021-09-17; yes, yes, yes: linkdate= 20210902 and urldate = 2021-09-17
. * filename reference_hospitalization_all_locs.csv 
. 
.                 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-09-17, update 20210902"
{res}{err}This is urldate 2021-09-17, update 20210902
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-09-17/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 253,115 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(252,448 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(667 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22615{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}667{col 51}{txt}missing .:  {res}0{txt}/{res}667

{txt}{col 19}mean:{res}{col 26}   22282{txt} = {res}02jan2021{txt}
{col 15}std. dev:{res}{col 26} 192.691

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22015{col 37}   22115{col 47}   22282{col 57}   22449{col 67}   22549
{col 26}10apr2020{col 36}19jul2020{col 46}02jan2021{col 56}18jun2021{col 66}26sep2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(30Aug2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210902", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 30Aug2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210902.pdf", replace
{txt}
{com}.                 
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(667 real changes made)

{com}. 
. 
. 
. 
. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210902 epoch20210902)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. save "IHME20210902.dta", replace
{txt}file IHME20210902.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 56
. * linkdate      download        urldate
. * 20210910      ihme-covid19    2021-09-14
. * filename reference_hospitalization_all_locs.csv 
. 
. 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-09-14, update 20210910"
{res}{err}This is urldate 2021-09-14, update 20210910
{txt}
{com}. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-09-14/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: best_masks_hospitalization_all_locs.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
    inflating: reference_hospitalization_all_locs.csv
    inflating: Summary_stats_all_locs.csv
    inflating: worse_hospitalization_all_locs.csv
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. import delimited using reference_hospitalization_all_locs.csv, clear varnames(1)
{res}{text}(84 vars, 253,115 obs)

{com}. 
. 
. keep if regexm(location_name,"$country") == 1 
{txt}(252,448 observations deleted)

{com}. 
. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(667 real changes made)

{com}. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22615{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01dec2021{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}667{col 51}{txt}missing .:  {res}0{txt}/{res}667

{txt}{col 19}mean:{res}{col 26}   22282{txt} = {res}02jan2021{txt}
{col 15}std. dev:{res}{col 26} 192.691

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22015{col 37}   22115{col 47}   22282{col 57}   22449{col 67}   22549
{col 26}10apr2020{col 36}19jul2020{col 46}02jan2021{col 56}18jun2021{col 66}26sep2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
.                 
. * rename variables
. 
. 
. * Daily Deaths not smoothed
. rename deaths_mean  DayDeaMeRaA02S01
{res}{txt}
{com}. label var DayDeaMeRaA02S01 "Daily Deaths Mean not smoothed IHME S1"
{txt}
{com}. 
. 
. // br date DayDeaMeRaA02S01 
. gen epoch = td(07Sep2021)
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line DayDeaMeRaA02S01 date, sort lwidth(medium) lcolor(black)) ///     
> if date >= td(01Jan2020) & location_name == "Iran" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily deaths, $country, National, IHME, update 20210910", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(`epoch', lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 07Sep2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210910.pdf", replace
{txt}
{com}.                         
. 
. * Daily Deaths smoothed
. rename deaths_mean_smoothed  DayDeaMeSmA02S01           
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1"
{txt}
{com}. 
. 
. 
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(667 real changes made)

{com}. 
. 
. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 epoch
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01 epoch) (DayDeaMeSmA02S0120210910 epoch20210910)
{res}{txt}
{com}. 
. 
. 
. 
. 
. qui compress
{txt}
{com}. 
. save "IHME20210910.dta", replace
{txt}file IHME20210910.dta saved

{com}. 
. 
. shell rm -r "best_masks_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "reference_hospitalization_all_locs.csv"
{txt}

{com}. shell rm -r "Summary_stats_all_locs.csv"
{txt}

{com}. shell rm -r "worse_hospitalization_all_locs.csv"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 57 TO Iran update 58
. * linkdate = urldate
. * linkdate      download        urldate
. * 16-Sep-21     ihme-covid19    2021-09-16
. * 23-Sep-21     ihme-covid19    2021-09-23
. * filename data_download_file_reference_2020.csv and data_download_file_reference_2021.csv
. 
. 
. 
. clear
{txt}
{com}. 
. 
. local list1 ///
> 2021-09-16 ///
> 2021-09-23 
{txt}
{com}. 
. 
. foreach update of local list1 {c -(}                         
{txt}  2{com}. 
. di in red "This is urldate " "`update'"
{txt}  3{com}. 
. *****************************
. 
. * get IHME estimates
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/`update'/ihme-covid19.zip ihme-covid19.zip
{txt}  4{com}. unzipfile ihme-covid19.zip, replace
{txt}  5{com}. erase ihme-covid19.zip
{txt}  6{com}. 
. 
. ******************************
. 
. * import csv files
. 
. 
. 
. import delimited using data_download_file_reference_2020.csv, clear varnames(1)
{txt}  7{com}. keep if regexm(location_name,"$country") == 1 
{txt}  8{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}  9{com}. save data_download_file_reference_2020.dta, replace
{txt} 10{com}. 
. import delimited using data_download_file_reference_2021.csv, clear varnames(1)
{txt} 11{com}. keep if regexm(location_name,"$country") == 1 
{txt} 12{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt} 13{com}. save data_download_file_reference_2021.dta, replace
{txt} 14{com}. 
. 
. 
. ******************************
. 
. * gen scenario dta files
. 
. 
. use "data_download_file_reference_2020.dta", clear 
{txt} 15{com}. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt} 16{com}. 
. foreach v of local varlist {c -(}
{txt} 17{com}.         capture confirm numeric variable `v'
{txt} 18{com}.     if !_rc {c -(}
{txt} 19{com}.                 di "`v'" " is numeric"
{txt} 20{com}.     {c )-}
{txt} 21{com}.     else {c -(}
{txt} 22{com}.                 di "`v'" " contains string"
{txt} 23{com}.                 replace `v' = "." if `v' == "Inf"
{txt} 24{com}.                 destring `v', replace 
{txt} 25{com}.     {c )-}
{txt} 26{com}. {c )-}
{txt} 27{com}. *
. 
. save "data_download_file_reference_2020.dta", replace 
{txt} 28{com}. 
. 
. 
. use "data_download_file_reference_2021.dta", clear 
{txt} 29{com}. 
. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt} 30{com}. 
. foreach v of local varlist {c -(}
{txt} 31{com}.         capture confirm numeric variable `v'
{txt} 32{com}.     if !_rc {c -(}
{txt} 33{com}.                 di "`v'" " is numeric"
{txt} 34{com}.     {c )-}
{txt} 35{com}.     else {c -(}
{txt} 36{com}.                 di "`v'" " contains string"
{txt} 37{com}.                 replace `v' = "." if `v' == "Inf"
{txt} 38{com}.                 destring `v', replace 
{txt} 39{com}.     {c )-}
{txt} 40{com}. {c )-}
{txt} 41{com}. *
. 
. save "data_download_file_reference_2021.dta", replace 
{txt} 42{com}. 
. append using "data_download_file_reference_2020.dta"
{txt} 43{com}. 
. 
. 
. 
. rename date date_original
{txt} 44{com}. gen year = substr(date_original,1,4) 
{txt} 45{com}. gen month = substr(date_original,6,2) 
{txt} 46{com}. gen day = substr(date_original,9,2) 
{txt} 47{com}. egen date2 = concat(day month year)
{txt} 48{com}. gen date = date(date2, "DMY", 2050)
{txt} 49{com}. format date %tdDDMonCCYY
{txt} 50{com}. codebook date
{txt} 51{com}. drop year month day date2
{txt} 52{com}. 
. 
. 
. * rename variables
. 
. 
. * Daily Reported Deaths smoothed
. rename seir_daily_unscaled_mean  DayDeaMeSmA02S01
{txt} 53{com}. label var DayDeaMeSmA02S01 "Daily Reported Deaths Mean smoothed IHME S1" // Daily reported deaths (mean estimate)
{txt} 54{com}.                 
.                 
. keep date location_name DayDeaMeSmA02S01 daily_deaths
{txt} 55{com}. 
. order date location_name DayDeaMeSmA02S01
{txt} 56{com}. 
. sort location_name date
{txt} 57{com}. 
. 
. 
. rename location_name provincestate
{txt} 58{com}. 
. gen loc_grand_name = "$country"
{txt} 59{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt} 60{com}. 
. 
. 
. 
. 
. gen updatedash = "`update'" 
{txt} 61{com}. 
. gen year = substr(updatedash,1,4)
{txt} 62{com}. gen month = substr(updatedash,6,2)
{txt} 63{com}. gen day = substr(updatedash,9,2)
{txt} 64{com}. 
. gen updatetag = year + month + day
{txt} 65{com}. 
. local updatetag = updatetag
{txt} 66{com}. 
. drop updatedash year month day updatetag
{txt} 67{com}. 
. 
. 
. 
. 
. 
. 
. 
. qui compress
{txt} 68{com}. 
. save "IHME`updatetag'.dta", replace
{txt} 69{com}. 
. 
. 
. shell rm -r "data_dictionary.csv"
{txt} 70{com}. shell rm -r "data_download_file_best_masks_2020.csv"
{txt} 71{com}. shell rm -r "data_download_file_best_masks_2021.csv"
{txt} 72{com}. shell rm -r "data_download_file_reference_2020.csv"
{txt} 73{com}. shell rm -r "data_download_file_reference_2021.csv"
{txt} 74{com}. shell rm -r "data_download_file_worse_2020.csv"
{txt} 75{com}. shell rm -r "data_download_file_worse_2021.csv"
{txt} 76{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt} 77{com}. shell rm -r "data_download_file_reference_2020.dta"
{txt} 78{com}. shell rm -r "data_download_file_reference_2021.dta"
{txt} 79{com}. 
. 
. {c )-}
{err}This is urldate 2021-09-16
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_worse_2020.csv
    inflating: data_download_file_worse_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(61 vars, 124,208 obs)
(123,876 observations deleted)
(332 real changes made)
(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved
{res}{text}(61 vars, 140,178 obs)
(139,812 observations deleted)
(366 real changes made)
(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved
reff_mean contains string
(6 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
{txt}(2 missing values generated)
{res}reff_upper contains string
{txt}(0 real changes made)
reff_upper: all characters numeric; {res}replaced {txt}as {res}double
{txt}(5 missing values generated)
{res}infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2020.dta saved
reff_mean contains string
(0 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2021.dta saved
{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_upper was 
float, now double to accommodate using data's values)
{p_end}
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22646{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}698{col 51}{txt}missing .:  {res}0{txt}/{res}698

{txt}{col 19}mean:{res}{col 26} 22297.5{txt} = {res}17jan2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26}  201.64

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22018{col 37}   22123{col 47} 22297.5{col 57}   22472{col 67}   22577
{col 26}13apr2020{col 36}27jul2020{col 46}17jan2021{col 56}11jul2021{col 66}24oct2021
{txt}(698 real changes made)
file IHME20210916.dta saved










{err}This is urldate 2021-09-23
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_worse_2020.csv
    inflating: data_download_file_worse_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(61 vars, 124,208 obs)
(123,876 observations deleted)
(332 real changes made)
(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved
{res}{text}(61 vars, 140,178 obs)
(139,812 observations deleted)
(366 real changes made)
(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved
reff_mean contains string
(6 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
{txt}(2 missing values generated)
{res}reff_upper contains string
{txt}(0 real changes made)
reff_upper: all characters numeric; {res}replaced {txt}as {res}double
{txt}(5 missing values generated)
{res}infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2020.dta saved
reff_mean contains string
(0 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2021.dta saved
{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_upper was 
float, now double to accommodate using data's values)
{p_end}
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22646{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}698{col 51}{txt}missing .:  {res}0{txt}/{res}698

{txt}{col 19}mean:{res}{col 26} 22297.5{txt} = {res}17jan2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26}  201.64

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22018{col 37}   22123{col 47} 22297.5{col 57}   22472{col 67}   22577
{col 26}13apr2020{col 36}27jul2020{col 46}17jan2021{col 56}11jul2021{col 66}24oct2021
{txt}(698 real changes made)
file IHME20210923.dta saved











{com}. ***
. 
. 
. 
. 
. 
. 
. 
. 
. 
. * update 20210916 epoch
. 
. use "IHME20210916.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(14Sep2021)
{txt}
{com}. di td(14Sep2021)
{res}22537
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20210916", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22537, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 14Sep2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210916.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. 
. rename epoch epoch20210916
{res}{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210916)
{res}{txt}
{com}. 
. save "IHME20210916.dta", replace
{txt}file IHME20210916.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. * update 20210923 epoch
. 
. use "IHME20210923.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(21Sep2021)
{txt}
{com}. di td(21Sep2021)
{res}22544
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20210923", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22544, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 21Sep2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210923.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. 
. rename epoch epoch20210923
{res}{txt}
{com}. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210923)
{res}{txt}
{com}. 
. save "IHME20210923.dta", replace
{txt}file IHME20210923.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 59 
. * linkdate != urldate; 20210930, 2021-10-01
. * filename data_download_file_reference_2020.csv and data_download_file_reference_2021.csv
. 
. 
. clear
{txt}
{com}. 
. di in red "This is urldate 2021-10-01, update 20210930" 
{res}{err}This is urldate 2021-10-01, update 20210930
{txt}
{com}. 
. 
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/2021-10-01/ihme-covid19.zip ihme-covid19.zip
{txt}
{com}. unzipfile ihme-covid19.zip, replace
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_worse_2020.csv
    inflating: data_download_file_worse_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory

{com}. erase ihme-covid19.zip
{txt}
{com}. 
. 
. ******************************
. 
. * import csv files
. 
. 
. 
. import delimited using data_download_file_reference_2020.csv, clear varnames(1)
{res}{text}(61 vars, 124,059 obs)

{com}. keep if regexm(location_name,"$country") == 1 
{txt}(123,727 observations deleted)

{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(332 real changes made)

{com}. save data_download_file_reference_2020.dta, replace
{txt}(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved

{com}. 
. import delimited using data_download_file_reference_2021.csv, clear varnames(1)
{res}{text}(61 vars, 140,178 obs)

{com}. keep if regexm(location_name,"$country") == 1 
{txt}(139,812 observations deleted)

{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}(366 real changes made)

{com}. save data_download_file_reference_2021.dta, replace
{txt}(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved

{com}. 
. 
. 
. ******************************
. 
. * gen scenario dta files
. 
. 
. use "data_download_file_reference_2020.dta", clear 
{txt}
{com}. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt}
{com}. 
. foreach v of local varlist {c -(}
{txt}  2{com}.         capture confirm numeric variable `v'
{txt}  3{com}.     if !_rc {c -(}
{txt}  4{com}.                 di "`v'" " is numeric"
{txt}  5{com}.     {c )-}
{txt}  6{com}.     else {c -(}
{txt}  7{com}.                 di "`v'" " contains string"
{txt}  8{com}.                 replace `v' = "." if `v' == "Inf"
{txt}  9{com}.                 destring `v', replace 
{txt} 10{com}.     {c )-}
{txt} 11{com}. {c )-}
reff_mean contains string
{txt}(5 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(5 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
{txt}(2 missing values generated)
{res}reff_upper contains string
{txt}(0 real changes made)
reff_upper: all characters numeric; {res}replaced {txt}as {res}double
{txt}(5 missing values generated)
{res}infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}
{com}. *
. 
. save "data_download_file_reference_2020.dta", replace 
{txt}file data_download_file_reference_2020.dta saved

{com}. 
. 
. 
. use "data_download_file_reference_2021.dta", clear 
{txt}
{com}. 
. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt}
{com}. 
. foreach v of local varlist {c -(}
{txt}  2{com}.         capture confirm numeric variable `v'
{txt}  3{com}.     if !_rc {c -(}
{txt}  4{com}.                 di "`v'" " is numeric"
{txt}  5{com}.     {c )-}
{txt}  6{com}.     else {c -(}
{txt}  7{com}.                 di "`v'" " contains string"
{txt}  8{com}.                 replace `v' = "." if `v' == "Inf"
{txt}  9{com}.                 destring `v', replace 
{txt} 10{com}.     {c )-}
{txt} 11{com}. {c )-}
reff_mean contains string
{txt}(0 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}
{com}. *
. 
. save "data_download_file_reference_2021.dta", replace 
{txt}file data_download_file_reference_2021.dta saved

{com}. 
. append using "data_download_file_reference_2020.dta"
{txt}{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_upper was 
float, now double to accommodate using data's values)
{p_end}

{com}. 
. 
. 
. 
. rename date date_original
{res}{txt}
{com}. gen year = substr(date_original,1,4) 
{txt}
{com}. gen month = substr(date_original,6,2) 
{txt}
{com}. gen day = substr(date_original,9,2) 
{txt}
{com}. egen date2 = concat(day month year)
{txt}
{com}. gen date = date(date2, "DMY", 2050)
{txt}
{com}. format date %tdDDMonCCYY
{txt}
{com}. codebook date

{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22646{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}698{col 51}{txt}missing .:  {res}0{txt}/{res}698

{txt}{col 19}mean:{res}{col 26} 22297.5{txt} = {res}17jan2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26}  201.64

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22018{col 37}   22123{col 47} 22297.5{col 57}   22472{col 67}   22577
{col 26}13apr2020{col 36}27jul2020{col 46}17jan2021{col 56}11jul2021{col 66}24oct2021
{txt}
{com}. drop year month day date2
{txt}
{com}. 
. 
. 
. * rename variables
. 
. * Daily Deaths smoothed
. rename seir_daily_unscaled_mean  DayDeaMeSmA02S01 
{res}{txt}
{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1" // Daily reported deaths (mean estimate)
{txt}
{com}.         
. 
. 
. rename location_name provincestate
{res}{txt}
{com}. 
. gen loc_grand_name = "$country"
{txt}
{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt}(698 real changes made)

{com}. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 daily_deaths
{txt}
{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt}
{com}. 
. sort loc_grand_name provincestate date
{txt}
{com}. 
. 
. 
. 
. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120210930)
{res}{txt}
{com}. 
. 
. order date loc_grand_name provincestate DayDeaMeSmA02S0120210930
{txt}
{com}. 
. qui compress
{txt}
{com}. 
. save "IHME20210930.dta", replace
{txt}file IHME20210930.dta saved

{com}. 
. 
. shell rm -r "data_dictionary.csv"
{txt}

{com}. shell rm -r "data_download_file_best_masks_2020.csv"
{txt}

{com}. shell rm -r "data_download_file_best_masks_2021.csv"
{txt}

{com}. shell rm -r "data_download_file_reference_2020.csv"
{txt}

{com}. shell rm -r "data_download_file_reference_2021.csv"
{txt}

{com}. shell rm -r "data_download_file_worse_2020.csv"
{txt}

{com}. shell rm -r "data_download_file_worse_2021.csv"
{txt}

{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt}

{com}. shell rm -r "data_download_file_reference_2020.dta"
{txt}

{com}. shell rm -r "data_download_file_reference_2021.dta"
{txt}

{com}. 
. 
. *
. ***
. 
. 
. 
. 
. 
. * update 20210930 epoch
. 
. use "IHME20210930.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(28Sep2021)
{txt}
{com}. di td(28Sep2021)
{res}22551
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20210930", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22551, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 28Sep2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20210930.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. 
. rename epoch epoch20210930
{res}{txt}
{com}. 
. save "IHME20210930.dta", replace
{txt}file IHME20210930.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 60 TO Iran update 62
. * linkdate = urldate
. * linkdate      download        urldate
. * 15-Oct-21     ihme-covid19    2021-10-15
. * 21-Oct-21     ihme-covid19    2021-10-21
. * 04-Nov-21     ihme-covid19    2021-11-04
. * filename data_download_file_reference_2020.csv and data_download_file_reference_2021.csv
. 
. 
. 
. clear
{txt}
{com}. 
. local list1 ///
> 2021-10-15 ///
> 2021-10-21 ///
> 2021-11-04
{txt}
{com}. 
. 
. 
. 
. foreach update of local list1 {c -(}                         
{txt}  2{com}. 
. di in red "This is urldate " "`update'"
{txt}  3{com}. 
. *****************************
. 
. * get IHME estimates
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/`update'/ihme-covid19.zip ihme-covid19.zip
{txt}  4{com}. unzipfile ihme-covid19.zip, replace
{txt}  5{com}. erase ihme-covid19.zip
{txt}  6{com}. 
. 
. ******************************
. 
. * import csv files
. 
. 
. 
. import delimited using data_download_file_reference_2020.csv, clear varnames(1)
{txt}  7{com}. keep if regexm(location_name,"$country") == 1 
{txt}  8{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}  9{com}. save data_download_file_reference_2020.dta, replace
{txt} 10{com}. 
. import delimited using data_download_file_reference_2021.csv, clear varnames(1)
{txt} 11{com}. keep if regexm(location_name,"$country") == 1 
{txt} 12{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt} 13{com}. save data_download_file_reference_2021.dta, replace
{txt} 14{com}. 
. 
. 
. ******************************
. 
. * gen scenario dta files
. 
. 
. use "data_download_file_reference_2020.dta", clear 
{txt} 15{com}. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt} 16{com}. 
. foreach v of local varlist {c -(}
{txt} 17{com}.         capture confirm numeric variable `v'
{txt} 18{com}.     if !_rc {c -(}
{txt} 19{com}.                 di "`v'" " is numeric"
{txt} 20{com}.     {c )-}
{txt} 21{com}.     else {c -(}
{txt} 22{com}.                 di "`v'" " contains string"
{txt} 23{com}.                 replace `v' = "." if `v' == "Inf"
{txt} 24{com}.                 destring `v', replace 
{txt} 25{com}.     {c )-}
{txt} 26{com}. {c )-}
{txt} 27{com}. *
. 
. save "data_download_file_reference_2020.dta", replace 
{txt} 28{com}. 
. 
. 
. use "data_download_file_reference_2021.dta", clear 
{txt} 29{com}. 
. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt} 30{com}. 
. foreach v of local varlist {c -(}
{txt} 31{com}.         capture confirm numeric variable `v'
{txt} 32{com}.     if !_rc {c -(}
{txt} 33{com}.                 di "`v'" " is numeric"
{txt} 34{com}.     {c )-}
{txt} 35{com}.     else {c -(}
{txt} 36{com}.                 di "`v'" " contains string"
{txt} 37{com}.                 replace `v' = "." if `v' == "Inf"
{txt} 38{com}.                 destring `v', replace 
{txt} 39{com}.     {c )-}
{txt} 40{com}. {c )-}
{txt} 41{com}. *
. 
. save "data_download_file_reference_2021.dta", replace 
{txt} 42{com}. 
. append using "data_download_file_reference_2020.dta"
{txt} 43{com}. 
. 
. 
. 
. rename date date_original
{txt} 44{com}. gen year = substr(date_original,1,4) 
{txt} 45{com}. gen month = substr(date_original,6,2) 
{txt} 46{com}. gen day = substr(date_original,9,2) 
{txt} 47{com}. egen date2 = concat(day month year)
{txt} 48{com}. gen date = date(date2, "DMY", 2050)
{txt} 49{com}. format date %tdDDMonCCYY
{txt} 50{com}. codebook date
{txt} 51{com}. drop year month day date2
{txt} 52{com}. 
. 
. 
. * rename variables
. 
. 
. * Daily Deaths smoothed
. rename seir_daily_unscaled_mean  DayDeaMeSmA02S01
{txt} 53{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1" // Daily reported deaths (mean estimate)
{txt} 54{com}.                 
. 
. 
. 
. rename location_name provincestate
{txt} 55{com}. 
. gen loc_grand_name = "$country"
{txt} 56{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt} 57{com}. 
. 
. 
. 
. gen updatedash = "`update'" 
{txt} 58{com}. 
. gen year = substr(updatedash,1,4)
{txt} 59{com}. gen month = substr(updatedash,6,2)
{txt} 60{com}. gen day = substr(updatedash,9,2)
{txt} 61{com}. 
. gen updatetag = year + month + day
{txt} 62{com}. 
. local updatetag = updatetag
{txt} 63{com}. 
. drop updatedash year month day updatetag
{txt} 64{com}. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 daily_deaths
{txt} 65{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt} 66{com}. 
. sort loc_grand_name provincestate date
{txt} 67{com}. 
. 
. 
. qui compress
{txt} 68{com}. 
. save "IHME`updatetag'.dta", replace
{txt} 69{com}. 
. 
. 
. shell rm -r "data_dictionary.csv"
{txt} 70{com}. shell rm -r "data_download_file_best_masks_2020.csv"
{txt} 71{com}. shell rm -r "data_download_file_best_masks_2021.csv"
{txt} 72{com}. shell rm -r "data_download_file_reference_2020.csv"
{txt} 73{com}. shell rm -r "data_download_file_reference_2021.csv"
{txt} 74{com}. shell rm -r "data_download_file_worse_2020.csv"
{txt} 75{com}. shell rm -r "data_download_file_worse_2021.csv"
{txt} 76{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt} 77{com}. shell rm -r "data_download_file_reference_2020.dta"
{txt} 78{com}. shell rm -r "data_download_file_reference_2021.dta"
{txt} 79{com}. 
. 
. {c )-}
{err}This is urldate 2021-10-15
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_worse_2020.csv
    inflating: data_download_file_worse_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(60 vars, 124,612 obs)
(124,280 observations deleted)
(332 real changes made)
(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved
{res}{text}(60 vars, 139,812 obs)
(139,446 observations deleted)
(366 real changes made)
(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved
reff_mean contains string
(6 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
reff_upper contains string
{txt}(0 real changes made)
reff_upper: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}infection_fatality contains string
{txt}(5 real changes made)
infection_fatality: all characters numeric; {res}replaced {txt}as {res}double
{txt}(24 missing values generated)
{res}infection_detection contains string
{txt}(6 real changes made)
infection_detection: all characters numeric; {res}replaced {txt}as {res}double
{txt}(10 missing values generated)
{res}infection_hospitalization contains string
{txt}(6 real changes made)
infection_hospitalization: all characters numeric; {res}replaced {txt}as {res}double
{txt}(10 missing values generated)
{res}{txt}file data_download_file_reference_2020.dta saved
reff_mean contains string
(0 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2021.dta saved
{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_upper was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_fatality was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_detection was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_hospitalization was 
float, now double to accommodate using data's values)
{p_end}
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22646{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01jan2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}698{col 51}{txt}missing .:  {res}0{txt}/{res}698

{txt}{col 19}mean:{res}{col 26} 22297.5{txt} = {res}17jan2021{txt} (+ 12 hours)
{col 15}std. dev:{res}{col 26}  201.64

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22018{col 37}   22123{col 47} 22297.5{col 57}   22472{col 67}   22577
{col 26}13apr2020{col 36}27jul2020{col 46}17jan2021{col 56}11jul2021{col 66}24oct2021
{txt}(698 real changes made)
file IHME20211015.dta saved










{err}This is urldate 2021-10-21
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_worse_2020.csv
    inflating: data_download_file_worse_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(60 vars, 124,612 obs)
(124,280 observations deleted)
(332 real changes made)
(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved
{res}{text}(60 vars, 151,654 obs)
(151,257 observations deleted)
(397 real changes made)
(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved
reff_mean contains string
(6 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
reff_upper contains string
{txt}(0 real changes made)
reff_upper: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}infection_fatality contains string
{txt}(6 real changes made)
infection_fatality: all characters numeric; {res}replaced {txt}as {res}double
{txt}(25 missing values generated)
{res}infection_detection contains string
{txt}(6 real changes made)
infection_detection: all characters numeric; {res}replaced {txt}as {res}double
{txt}(10 missing values generated)
{res}infection_hospitalization contains string
{txt}(6 real changes made)
infection_hospitalization: all characters numeric; {res}replaced {txt}as {res}double
{txt}(10 missing values generated)
{res}{txt}file data_download_file_reference_2020.dta saved
reff_mean contains string
(0 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2021.dta saved
{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_upper was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_fatality was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_detection was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_hospitalization was 
float, now double to accommodate using data's values)
{p_end}
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22677{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01feb2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}729{col 51}{txt}missing .:  {res}0{txt}/{res}729

{txt}{col 19}mean:{res}{col 26}   22313{txt} = {res}02feb2021{txt}
{col 15}std. dev:{res}{col 26} 210.588

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22021{col 37}   22131{col 47}   22313{col 57}   22495{col 67}   22605
{col 26}16apr2020{col 36}04aug2020{col 46}02feb2021{col 56}03aug2021{col 66}21nov2021
{txt}(729 real changes made)
file IHME20211021.dta saved










{err}This is urldate 2021-11-04
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_worse_2020.csv
    inflating: data_download_file_worse_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(60 vars, 124,612 obs)
(124,280 observations deleted)
(332 real changes made)
(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved
{res}{text}(60 vars, 162,350 obs)
(161,925 observations deleted)
(425 real changes made)
(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved
reff_mean contains string
(7 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(7 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
reff_upper contains string
{txt}(0 real changes made)
reff_upper: all characters numeric; {res}replaced {txt}as {res}double
{txt}(6 missing values generated)
{res}infection_fatality contains string
{txt}(5 real changes made)
infection_fatality: all characters numeric; {res}replaced {txt}as {res}double
{txt}(24 missing values generated)
{res}infection_detection contains string
{txt}(6 real changes made)
infection_detection: all characters numeric; {res}replaced {txt}as {res}double
{txt}(10 missing values generated)
{res}infection_hospitalization contains string
{txt}(6 real changes made)
infection_hospitalization: all characters numeric; {res}replaced {txt}as {res}double
{txt}(10 missing values generated)
{res}{txt}file data_download_file_reference_2020.dta saved
reff_mean contains string
(0 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
{txt}file data_download_file_reference_2021.dta saved
{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_upper was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_fatality was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_detection was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_hospitalization was 
float, now double to accommodate using data's values)
{p_end}
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22705{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01mar2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}757{col 51}{txt}missing .:  {res}0{txt}/{res}757

{txt}{col 19}mean:{res}{col 26}   22327{txt} = {res}16feb2021{txt}
{col 15}std. dev:{res}{col 26} 218.671

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22024{col 37}   22138{col 47}   22327{col 57}   22516{col 67}   22630
{col 26}19apr2020{col 36}11aug2020{col 46}16feb2021{col 56}24aug2021{col 66}16dec2021
{txt}(757 real changes made)
file IHME20211104.dta saved











{com}. ***
. 
. 
. 
. 
. 
. 
. 
. 
. * update 20211015 epoch
. 
. use "IHME20211015.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(12Oct2021)
{txt}
{com}. di td(12Oct2021)
{res}22565
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20211015", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22565, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 12Oct2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20211015.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. 
. rename DayDeaMeSmA02S01 DayDeaMeSmA02S0120211015
{res}{txt}
{com}. rename epoch epoch20211015
{res}{txt}
{com}. 
. save "IHME20211015.dta", replace
{txt}file IHME20211015.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. * update 20211021 epoch
. 
. use "IHME20211021.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(19Oct2021)
{txt}
{com}. di td(19Oct2021)
{res}22572
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20211021", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22572, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 19Oct2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20211021.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. 
. rename DayDeaMeSmA02S01 DayDeaMeSmA02S0120211021
{res}{txt}
{com}. rename epoch epoch20211021
{res}{txt}
{com}. 
. save "IHME20211021.dta", replace
{txt}file IHME20211021.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. * update 20211104 epoch
. 
. use "IHME20211104.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(02Nov2021)
{txt}
{com}. di td(02Nov2021)
{res}22586
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20211104", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22586, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 02Nov2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20211104.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. 
. rename DayDeaMeSmA02S01 DayDeaMeSmA02S0120211104
{res}{txt}
{com}. rename epoch epoch20211104
{res}{txt}
{com}. 
. save "IHME20211104.dta", replace
{txt}file IHME20211104.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************************************
. **********************************************
. **********************************************
. 
. * Iran update 63 
. * linkdate = urldate
. * linkdate      download        urldate
. * 21-Dec-21     ihme-covid19    2021-12-21
. * filename data_download_file_reference_2020.csv and data_download_file_reference_2021.csv
. 
. 
. clear
{txt}
{com}. 
. local list1 ///
> 2021-12-21 ///
> 
{txt}
{com}. 
. foreach update of local list1 {c -(}                         
{txt}  2{com}. 
. di in red "This is urldate " "`update'"
{txt}  3{com}. 
. *****************************
. 
. * get IHME estimates
. 
. copy https://ihmecovid19storage.blob.core.windows.net/archive/`update'/ihme-covid19.zip ihme-covid19.zip
{txt}  4{com}. unzipfile ihme-covid19.zip, replace
{txt}  5{com}. erase ihme-covid19.zip
{txt}  6{com}. 
. 
. ******************************
. 
. * import csv files
. 
. 
. 
. import delimited using data_download_file_reference_2020.csv, clear varnames(1)
{txt}  7{com}. keep if regexm(location_name,"$country") == 1 
{txt}  8{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt}  9{com}. save data_download_file_reference_2020.dta, replace
{txt} 10{com}. 
. import delimited using data_download_file_reference_2021.csv, clear varnames(1)
{txt} 11{com}. keep if regexm(location_name,"$country") == 1 
{txt} 12{com}. replace location_name = "Iran" if regexm(location_name,"$country") == 1
{txt} 13{com}. save data_download_file_reference_2021.dta, replace
{txt} 14{com}. 
. 
. 
. ******************************
. 
. * gen scenario dta files
. 
. 
. use "data_download_file_reference_2020.dta", clear 
{txt} 15{com}. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt} 16{com}. 
. foreach v of local varlist {c -(}
{txt} 17{com}.         capture confirm numeric variable `v'
{txt} 18{com}.     if !_rc {c -(}
{txt} 19{com}.                 di "`v'" " is numeric"
{txt} 20{com}.     {c )-}
{txt} 21{com}.     else {c -(}
{txt} 22{com}.                 di "`v'" " contains string"
{txt} 23{com}.                 replace `v' = "." if `v' == "Inf"
{txt} 24{com}.                 destring `v', replace 
{txt} 25{com}.     {c )-}
{txt} 26{com}. {c )-}
{txt} 27{com}. *
. 
. save "data_download_file_reference_2020.dta", replace 
{txt} 28{com}. 
. 
. 
. use "data_download_file_reference_2021.dta", clear 
{txt} 29{com}. 
. 
. local varlist reff_mean reff_lower reff_upper infection_fatality infection_detection infection_hospitalization
{txt} 30{com}. 
. foreach v of local varlist {c -(}
{txt} 31{com}.         capture confirm numeric variable `v'
{txt} 32{com}.     if !_rc {c -(}
{txt} 33{com}.                 di "`v'" " is numeric"
{txt} 34{com}.     {c )-}
{txt} 35{com}.     else {c -(}
{txt} 36{com}.                 di "`v'" " contains string"
{txt} 37{com}.                 replace `v' = "." if `v' == "Inf"
{txt} 38{com}.                 destring `v', replace 
{txt} 39{com}.     {c )-}
{txt} 40{com}. {c )-}
{txt} 41{com}. *
. 
. save "data_download_file_reference_2021.dta", replace 
{txt} 42{com}. 
. append using "data_download_file_reference_2020.dta"
{txt} 43{com}. 
. 
. 
. 
. rename date date_original
{txt} 44{com}. gen year = substr(date_original,1,4) 
{txt} 45{com}. gen month = substr(date_original,6,2) 
{txt} 46{com}. gen day = substr(date_original,9,2) 
{txt} 47{com}. egen date2 = concat(day month year)
{txt} 48{com}. gen date = date(date2, "DMY", 2050)
{txt} 49{com}. format date %tdDDMonCCYY
{txt} 50{com}. codebook date
{txt} 51{com}. drop year month day date2
{txt} 52{com}. 
. 
. 
. * rename variables
. 
. * Daily Deaths smoothed
. rename seir_daily_unscaled_mean  DayDeaMeSmA02S01
{txt} 53{com}. label var DayDeaMeSmA02S01 "Daily Deaths Mean smoothed IHME S1" // Daily reported deaths (mean estimate)
{txt} 54{com}.                 
. 
. 
. 
. rename location_name provincestate
{txt} 55{com}. 
. gen loc_grand_name = "$country"
{txt} 56{com}. 
. replace provincestate = " National" if provincestate == "$country"
{txt} 57{com}. 
. 
. 
. 
. 
. gen updatedash = "`update'" 
{txt} 58{com}. 
. gen year = substr(updatedash,1,4)
{txt} 59{com}. gen month = substr(updatedash,6,2)
{txt} 60{com}. gen day = substr(updatedash,9,2)
{txt} 61{com}. 
. gen updatetag = year + month + day
{txt} 62{com}. 
. local updatetag = updatetag
{txt} 63{com}. 
. drop updatedash year month day updatetag
{txt} 64{com}. 
. 
. keep date loc_grand_name provincestate DayDeaMeSmA02S01 daily_deaths
{txt} 65{com}. 
. order date loc_grand_name provincestate DayDeaMeSmA02S01
{txt} 66{com}. 
. sort loc_grand_name provincestate date
{txt} 67{com}. 
. 
. rename (DayDeaMeSmA02S01) (DayDeaMeSmA02S0120211221)
{txt} 68{com}. 
. 
. 
. 
. qui compress
{txt} 69{com}. 
. save "IHME`updatetag'.dta", replace
{txt} 70{com}. 
. 
. 
. shell rm -r "data_dictionary.csv"
{txt} 71{com}. shell rm -r "data_download_file_best_masks_2020.csv"
{txt} 72{com}. shell rm -r "data_download_file_best_masks_2021.csv"
{txt} 73{com}. shell rm -r "data_download_file_reference_2020.csv"
{txt} 74{com}. shell rm -r "data_download_file_reference_2021.csv"
{txt} 75{com}. shell rm -r "IHME_COVID_19_Data_Release_Information_Sheet.pdf"
{txt} 76{com}. shell rm -r "data_download_file_reference_2020.dta"
{txt} 77{com}. shell rm -r "data_download_file_reference_2021.dta"
{txt} 78{com}. 
. shell rm -r "data_download_file_severe_omicron_2020.csv"
{txt} 79{com}. shell rm -r "data_download_file_severe_omicron_2021.csv"
{txt} 80{com}. shell rm -r "data_download_file_third_dose_2020.csv"
{txt} 81{com}. shell rm -r "data_download_file_third_dose_2021.csv"
{txt} 82{com}. shell rm -r "data_download_file_reduce_hesitancy_2020.csv"
{txt} 83{com}. shell rm -r "data_download_file_reduce_hesitancy_2021.csv"
{txt} 84{com}. 
. 
. {c )-}
{err}This is urldate 2021-12-21
{res}{txt}    inflating: data_dictionary.csv
    inflating: data_download_file_best_masks_2020.csv
    inflating: data_download_file_best_masks_2021.csv
    inflating: data_download_file_reduce_hesitancy_2020.csv
    inflating: data_download_file_reduce_hesitancy_2021.csv
    inflating: data_download_file_reference_2020.csv
    inflating: data_download_file_reference_2021.csv
    inflating: data_download_file_severe_omicron_2020.csv
    inflating: data_download_file_severe_omicron_2021.csv
    inflating: data_download_file_third_dose_2020.csv
    inflating: data_download_file_third_dose_2021.csv
    inflating: IHME_COVID_19_Data_Release_Information_Sheet.pdf
successfully unzipped ihme-covid19.zip to current directory
{res}{text}(60 vars, 123,836 obs)
(123,504 observations deleted)
(332 real changes made)
(note: file data_download_file_reference_2020.dta not found)
file data_download_file_reference_2020.dta saved
{res}{text}(60 vars, 158,525 obs)
(158,100 observations deleted)
(425 real changes made)
(note: file data_download_file_reference_2021.dta not found)
file data_download_file_reference_2021.dta saved
reff_mean contains string
(5 real changes made)
reff_mean: all characters numeric; {res}replaced {txt}as {res}double
{txt}(5 missing values generated)
{res}reff_lower contains string
{txt}(0 real changes made)
reff_lower: all characters numeric; {res}replaced {txt}as {res}double
reff_upper is numeric
infection_fatality contains string
{txt}(7 real changes made)
infection_fatality: all characters numeric; {res}replaced {txt}as {res}double
{txt}(25 missing values generated)
{res}infection_detection contains string
{txt}(0 real changes made)
infection_detection: all characters numeric; {res}replaced {txt}as {res}double
{txt}(2 missing values generated)
{res}infection_hospitalization contains string
{txt}(6 real changes made)
infection_hospitalization: all characters numeric; {res}replaced {txt}as {res}double
{txt}(8 missing values generated)
{res}{txt}file data_download_file_reference_2020.dta saved
reff_mean is numeric
reff_lower is numeric
reff_upper is numeric
infection_fatality is numeric
infection_detection is numeric
infection_hospitalization is numeric
file data_download_file_reference_2021.dta saved
{p 0 7 2}
(note: variable
reff_mean was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
reff_lower was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_fatality was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_detection was 
float, now double to accommodate using data's values)
{p_end}
{p 0 7 2}
(note: variable
infection_hospitalization was 
float, now double to accommodate using data's values)
{p_end}
{res}
{txt}{hline}
{res}date{right:(unlabeled)}
{txt}{hline}

{col 19}type:  numeric daily date ({res}float{txt})

{col 18}range:  [{res}21949{txt},{res}22705{txt}]{col 55}units:  {res}1
{col 8}{txt}or equivalently:  [{res}04feb2020{txt},{res}01mar2022{txt}]{col 55}units:  {res}days
{col 10}{txt}unique values:  {res}757{col 51}{txt}missing .:  {res}0{txt}/{res}757

{txt}{col 19}mean:{res}{col 26}   22327{txt} = {res}16feb2021{txt}
{col 15}std. dev:{res}{col 26} 218.671

{txt}{col 12}percentiles:{col 32}10%{col 42}25%{col 52}50%{col 62}75%{col 72}90%
{res}{col 27}   22024{col 37}   22138{col 47}   22327{col 57}   22516{col 67}   22630
{col 26}19apr2020{col 36}11aug2020{col 46}16feb2021{col 56}24aug2021{col 66}16dec2021
{txt}(757 real changes made)
{res}{txt}file IHME20211221.dta saved















{com}. ***
. 
. 
. 
. 
. 
. * update 20211221 epoch
. 
. use "IHME20211221.dta", clear
{txt}
{com}. 
. * no raw estimated daily deaths in file
. 
. // br date daily_deaths 
. gen epoch = td(14Dec2021)
{txt}
{com}. di td(14Dec2021)
{res}22628
{txt}
{com}. label var epoch "Forecast start date"
{txt}
{com}. local epoch = epoch
{txt}
{com}. 
. 
. twoway ///
> (line daily_deaths date, sort lwidth(medium) lcolor(black)) ///         
> if date >= td(01Jan2020) & provincestate == " National" ///
> , xtitle(Date) xlabel(, format(%tdYY-NN-DD) labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%9.0fc) labsize(small))  ylabel(, labsize(small) angle(forty_five)) ///
> ytitle(Daily deaths) title("C-19 daily reported deaths raw, $country, National, IHME, update 20211221", size(medium)) ///
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) legend(region(lcolor(none))) legend(bexpand) ///
> xline(22628, lwidth(thin) lcolor(red)) ///
> subtitle("Forecast start date is denoted with red line: 14Dec2021")
{res}{txt}
{com}. 
. qui graph export "$pathCovidLongitudinal/IHME/graph epoch update 20211221.pdf", replace
{txt}
{com}.                 
. drop daily_deaths
{txt}
{com}. rename epoch epoch20211221
{res}{txt}
{com}. 
. save "IHME20211221.dta", replace
{txt}file IHME20211221.dta saved

{com}. 
. *
. 
. 
. 
. 
. 
. 
. 
. 
. 
. **********************
. 
. view "log CovidLongitudinal IHME 1.smcl"
{txt}
{com}. 
. log close
      {txt}name:  {res}<unnamed>
       {txt}log:  {res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/IHME/log CovidLongitudinal IHME 1.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res} 5 May 2022, 21:33:17
{txt}{.-}
{smcl}
{txt}{sf}{ul off}