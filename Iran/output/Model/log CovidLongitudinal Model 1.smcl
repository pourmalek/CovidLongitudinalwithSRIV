{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}<unnamed>
       {txt}log:  {res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/Model/log CovidLongitudinal Model 1.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}14 May 2022, 15:51:03
{txt}
{com}. 
. ***************************************************************************
. * This is "do CovidLongitudinal Model 1.do"
. 
. * Project: Longitudinal assessment of COVID-19 models                                                                         
. * Person: Farshad Pourmalek pourmalek_farshad at yahoo dotcom
. ***************************************************************************
. 
. 
. * input data
. 
. clear
{txt}
{com}. 
. set obs 100
{txt}{p}
number of observations (_N)  was 0,
now 100
{p_end}

{com}. 
. gen date = _n
{txt}
{com}. 
. 
. gen Reference = 100 + (date * 10)
{txt}
{com}. 
. gen Model_A = 800 - (date * 4)
{txt}
{com}. 
. gen Model_B = 400 - (date * 6)
{txt}
{com}. 
. 
. 
. 
. 
. *********************
. 
. /*
> 
> 
> CALCULATIONS:
> 
> Error = minus (Reference minus Model) 
> 
> Absolute error = | minus (Reference minus Model) |
> 
> Percent error = 100 * (minus (Reference minus Model)) / Reference
> 
> Absolute percent error = 100 * | minus (Reference minus Model) | / Reference
> 
> Non-negative percent error = (100 * (minus (Reference minus Model)) / Reference) + | mimimum (100 * (minus (Reference minus Model)) / Reference) |
> 
> 
> 
> 
> Error = - (Reference - Model)
> 
> Absolute error = | - (Reference - Model) |
> 
> Percent error = 100 * (- (Reference - Model)) / Reference
> 
> Absolute percent error = 100 * | - (Reference - Model)| / Reference
> 
> Non-negative percent error = (100 * (- (Reference - Model)) / Reference) + | min (100 * (- (Reference - Model)) / Reference) |
> 
> */
. 
. 
. 
. 
. gen Error_Model_A = - (Reference - Model_A)
{txt}
{com}. 
. gen AbsErr_Model_A = abs(- (Reference - Model_A))
{txt}
{com}. 
. gen PerErr_Model_A = 100 * (- (Reference - Model_A)) / Reference
{txt}
{com}. 
. gen AbPeEr_Model_A = 100 * abs(- (Reference - Model_A)) / Reference
{txt}
{com}. 
. 
. sum PerErr_Model_A

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
PerErr_Mod~A {c |}{res}        100    57.67437    148.0129  -63.63636   623.6364
{txt}
{com}. 
. gen PerErr_Model_A_min = r(min)
{txt}
{com}. 
. gen PerErr_Model_A_min_abs = abs(PerErr_Model_A_min)
{txt}
{com}. 
. gen Nonnegative_PerErr_Model_A = PerErr_Model_A + PerErr_Model_A_min_abs
{txt}
{com}. 
. 
. 
. gen Error_Model_B = - (Reference - Model_B)
{txt}
{com}. 
. gen AbsErr_Model_B = abs(- (Reference - Model_B))
{txt}
{com}. 
. gen PerErr_Model_B = 100 * (- (Reference - Model_B)) / Reference
{txt}
{com}. 
. gen AbPeEr_Model_B = 100 * abs(- (Reference - Model_B)) / Reference
{txt}
{com}. 
. 
. sum PerErr_Model_B

{txt}    Variable {c |}        Obs        Mean    Std. Dev.       Min        Max
{hline 13}{c +}{hline 57}
PerErr_Mod~B {c |}{res}        100   -51.74975    81.05467  -118.1818   258.1818
{txt}
{com}. 
. gen PerErr_Model_B_min = r(min)
{txt}
{com}. 
. gen PerErr_Model_B_min_abs = abs(PerErr_Model_B_min)
{txt}
{com}. 
. gen Nonnegative_PerErr_Model_B = PerErr_Model_B + PerErr_Model_B_min_abs
{txt}
{com}. 
. 
. 
. 
. ***************
. 
. * graphs
. 
. grstyle init
{res}{txt}
{com}. 
. grstyle color background white
{txt}
{com}. 
. 
. 
. 
. * Model A
. 
. 
. * Reference and Model 
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 1 C19 daily deaths, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. * Error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> (line Error_Model_A date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths error, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A" 3 "Error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 2 C19 daily deaths Error, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. * Absolute error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> (line AbsErr_Model_A date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths absolute error, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A" 3 "Absolute error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 3 C19 daily deaths absolute error, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. * Percent error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> (line PerErr_Model_A date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths percent error, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A" 3 "Percent error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 4 C19 daily deaths percent error, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. * Absolute percent error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> (line AbPeEr_Model_A date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths absolute percent error, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A" 3 "Absolute percent error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 5 C19 daily deaths absolute percent error, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. * Non-negative percent error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> (line Nonnegative_PerErr_Model_A date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths non-negative percent error, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A" 3 "Non-negative percent error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 6 C19 daily deaths non-negative percent error, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. * Error types together
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_A date, sort lcolor(red) lwidth(thick)) /// 
> (line Error_Model_A date, sort lcolor(gold) lwidth(vthick) lpattern(tight_dot)) /// 
> (line AbsErr_Model_A date, sort lcolor(orange) lwidth(medium)) /// 
> (line PerErr_Model_A date, sort lcolor(green) lwidth(medium) lwidth(vthick) lpattern(tight_dot)) /// 
> (line AbPeEr_Model_A date, sort lcolor(blue)) /// 
> (line Nonnegative_PerErr_Model_A date, sort lcolor(brown)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths error types, Model A", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model A" 3 "Error" 4 "Absolute error" 5 "Percent error" ///
> 6 "Absolute percent error" 7 "Non-negative percent error") size(small) row(3)) 
{res}{txt}
{com}. 
. qui graph export "graph 7 C19 daily deaths error types, Model_A.pdf", replace
{txt}
{com}. 
. 
. 
. 
. 
. 
. 
. 
. 
. * Model B
. 
. 
. * Reference and Model 
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 1 C19 daily deaths, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. * Error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> (line Error_Model_B date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths error, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B" 3 "Error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 2 C19 daily deaths Error, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. * Absolute error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> (line AbsErr_Model_B date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths absolute error, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B" 3 "Absolute error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 3 C19 daily deaths absolute error, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. * Non-negative error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> (line PerErr_Model_B date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths percent error, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B" 3 "Percent error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 4 C19 daily deaths percent error, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. * Absolute percent error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> (line AbPeEr_Model_B date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths absolute percent error, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B" 3 "Absolute percent error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 5 C19 daily deaths absolute percent error, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. * Non-negative percent error
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> (line Nonnegative_PerErr_Model_B date, sort lcolor(black) lwidth(medium)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths non-negative percent error, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B" 3 "Non-negative percent error") size(small) row(1)) 
{res}{txt}
{com}. 
. qui graph export "graph 6 C19 daily deaths non-negative percent error, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. * Error types together
. 
. twoway ///
> (line Reference date, sort lcolor(cyan) lwidth(thick)) /// 
> (line Model_B date, sort lcolor(red) lwidth(thick)) /// 
> (line Error_Model_B date, sort lcolor(gold) lwidth(vthick) lpattern(tight_dot)) /// 
> (line AbsErr_Model_B date, sort lcolor(orange) lwidth(medium)) /// 
> (line PerErr_Model_B date, sort lcolor(green) lwidth(medium) lwidth(vthick) lpattern(tight_dot)) /// 
> (line AbPeEr_Model_B date, sort lcolor(blue)) /// 
> (line Nonnegative_PerErr_Model_B date, sort lcolor(brown)) /// 
> , xtitle(Date) xlabel(#25, labsize(small)) xlabel(, grid) xlabel(, grid) ///
> xlabel(, angle(forty_five)) ylabel(, format(%15.0fc) labsize(small))  ylabel(, labsize(small) angle(horizontal)) ///
> ytitle(Daily deaths error measure) title("C19 daily deaths error types, Model B", size(medium) color(black)) /// 
> xscale(lwidth(vthin) lcolor(gray*.2)) yscale(lwidth(vthin) lcolor(gray*.2)) yscale(titlegap(3)) ///
> legend(region(lcolor(none))) legend(bexpand) ///
> legend(order(1 "Reference" 2 "Model B" 3 "Error" 4 "Absolute error" 5 "Percent error" ///
> 6 "Absolute percent error" 7 "non-negative percent error") size(small) row(3)) 
{res}{txt}
{com}. 
. qui graph export "graph 7 C19 daily deaths error types, Model_B.pdf", replace
{txt}
{com}. 
. 
. 
. 
. 
. 
. 
. 
. view "log CovidLongitudinal Model 1.smcl"
{txt}
{com}. 
. log close
      {txt}name:  {res}<unnamed>
       {txt}log:  {res}/Users/farshadpourmalek/Downloads/CovidLongitudinal-main/Iran/code/Model/log CovidLongitudinal Model 1.smcl
  {txt}log type:  {res}smcl
 {txt}closed on:  {res}14 May 2022, 15:51:16
{txt}{.-}
{smcl}
{txt}{sf}{ul off}